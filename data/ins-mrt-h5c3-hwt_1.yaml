- en: Chapter 1. Instant Migration to HTML5 and CSS3 How-to
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第1章。即时迁移到HTML5和CSS3的方法
- en: Since its inception in 1991, HTML has changed only a handful of times. In this
    fast-paced digital age, it is very unusual for one of the most popular technologies
    to change so slowly. From the table-based layouts to div-based architectures,
    from HTML's primary specifications to backward-compatible XHTML websites, from
    inline styling to external dynamic stylesheets, the adoption of the technological
    advancement has progressed at a snail's pace.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 自1991年成立以来，HTML只改变了几次。在这个快节奏的数字时代，最受欢迎的技术之一变化如此缓慢是非常不寻常的。从基于表格的布局到基于div的架构，从HTML的主要规范到向后兼容的XHTML网站，从内联样式到外部动态样式表，技术进步的采纳速度一直缓慢地进行着。
- en: Right after December 1999, when the HTML 4.01 specification was published, the
    focus of the **World Wide Web Consortium** (**W3C**) and the working groups shifted
    to XHTML and CSS. The move of jumping between various coding practices, for simple
    tag-based documentation and for fallback compatibilities to earlier versions,
    has left a majority of the web pages with broken, inconsistent, and nonstandard-oriented
    code.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 1999年12月之后，HTML 4.01规范发布后，**万维网联盟**（**W3C**）和工作组的重点转向了XHTML和CSS。在各种编码实践之间跳跃，用于简单的基于标记的文档和用于向早期版本的兼容性的后备，导致大多数网页出现了破损、不一致和非标准导向的代码。
- en: In today's times, when a web presence is considered equal to a real estate or
    shop front, it becomes essential for the web pages to be accessible, efficient,
    lean, fast, and semantically correct for higher visibility in the search results.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在当今时代，当网页存在被视为等同于房地产或商店前台时，对于更高的搜索结果可见性，网页必须是可访问的、高效的、精简的、快速的和语义上正确的。
- en: Welcome to the *Instant Migration to HTML5 and CSS3 How-to* handbook. This book
    will provide you with all the information that you need to get up to speed while
    migrating your current website to HTML5, the new web standard by W3C.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 欢迎来到*Instant Migration to HTML5 and CSS3 How-to*手册。本书将为您提供迁移当前网站到HTML5的所有信息，这是W3C的新网络标准。
- en: In the coming recipes, we will go through various examples to help you migrate
    your current website without changing any of the existing content/presentation
    to HTML5\. We will also address any compatibility issues that your website might
    face in the process and suggest appropriate solutions, and further discuss some
    excellent new features of the upgrade.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的配方中，我们将通过各种示例来帮助您将当前网站迁移到HTML5，而不改变任何现有内容/呈现。我们还将解决您的网站在此过程中可能遇到的任何兼容性问题，并提出适当的解决方案，并进一步讨论升级的一些出色新功能。
- en: Analysis of the current website (Must know)
  id: totrans-6
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 当前网站的分析（必须知道）
- en: Before the migration of any website, we need to analyze and check the current
    state of documents and visitors. This exercise will help us in getting an outline
    of all the resources, libraries, and dependencies that can be upgraded.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 在迁移任何网站之前，我们需要分析和检查文档和访问者的当前状态。这项练习将帮助我们概述可以升级的所有资源、库和依赖项。
- en: A quick analysis of visitors will help us determine the most common browsers
    used by visitors and whether there is any specific browser (read IE6) that we
    can exclude from this upgrade. If a large part of the visitors' demographic is
    consistently using outdated browsers to access your website, this gathered information
    will guide us in setting the code rules or fallback options for those visitors.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 快速分析访客将帮助我们确定访客使用的最常见浏览器，以及是否有任何特定浏览器（如IE6）可以在此次升级中排除。如果大部分访客人群一直使用过时的浏览器访问您的网站，这些收集的信息将指导我们为这些访客设置代码规则或后备选项。
- en: Getting ready
  id: totrans-9
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备就绪
- en: To begin the analysis, all we need is access to Google Analytics, or a similar
    tracking service integrated in the website's dashboard. For example, we will have
    a look at the visitor trends of my website, which is [http://www.dushyantkanungo.com](http://www.dushyantkanungo.com),
    for a certain duration of time.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 要开始分析，我们只需要访问Google Analytics或网站仪表板中集成的类似跟踪服务。例如，我们将查看我的网站[http://www.dushyantkanungo.com](http://www.dushyantkanungo.com)的访客趋势，持续一段时间。
- en: You can do it with your current website and a word processor (pencil/paper)
    to keep track of issues we find on our way.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用当前网站和文字处理器（铅笔/纸）来跟踪我们在途中发现的问题。
- en: How to do it…
  id: totrans-12
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做到这一点...
- en: The website [http://www.dushyantkanungo.com](http://www.dushyantkanungo.com)
    uses Google Analytics for visitor tracking, which can be accessed from [http://www.google.com/analytics](http://www.google.com/analytics).
    After navigating to **Audience** | **Technology** | **Browser & OS** from the
    left-hand side column, here is what we get for a specific period:![How to do it…](img/5749OT_01_01.jpg)
  id: totrans-13
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 网站[http://www.dushyantkanungo.com](http://www.dushyantkanungo.com)使用Google Analytics进行访客跟踪，可以从[http://www.google.com/analytics](http://www.google.com/analytics)访问。在从左侧列导航到**受众**
    | **技术** | **浏览器和操作系统**后，我们得到了特定时期的以下结果：
- en: Based on the preceding stats provided by Google Analytics, we now know that
    over 75 percent of the visitors to this website were using either Google Chrome
    or Firefox and about 20 percent traffic was generated from IE and Safari.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 根据Google Analytics提供的统计数据，我们现在知道超过75%的访问者使用的是Google Chrome或Firefox，大约20%的流量来自IE和Safari。
- en: Moving further in, we can see that the ratio of the older versions of IE, which
    were used to visit the website, becomes nominal and hence, we can choose coding
    practices to either support or exclude them.![How to do it…](img/5749OT_01_02.jpg)
  id: totrans-15
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 进一步深入，我们可以看到访问网站的旧版IE的比例变得微不足道，因此我们可以选择编码实践来支持或排除它们。
- en: A similar analysis with operating systems can tell us about the number of visitors
    coming from mobile devices or varying screen resolutions. This helps us in designing
    the support for a range of end users in the target demographic.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 类似的操作系统分析可以告诉我们来自移动设备或不同屏幕分辨率的访问者数量。这有助于我们设计支持目标人群的一系列最终用户。
- en: Next, we need to check the current validation status of the website with a W3C
    validator at [http://validator.w3.org](http://validator.w3.org). This will tell
    us if there are any known issues with the content markup before we head towards
    the updated version. Just note down or copy the errors in a document for future
    reference.
  id: totrans-17
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，我们需要使用W3C验证器在[http://validator.w3.org](http://validator.w3.org)检查网站的当前验证状态。这将告诉我们在前往更新版本之前内容标记中是否存在任何已知问题。只需记下或复制错误，以备将来参考。
- en: Note
  id: totrans-18
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注
- en: Sometimes, old websites have links to external resources that may have moved
    or no longer exist. Broken links from a web page are always frowned upon, not
    just by the visitors but also by the crawlers as well.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 有时，旧网站可能链接到已移动或不再存在的外部资源。网页上的损坏链接总是令人不悦的，不仅是访问者，也是网络爬虫。
- en: To examine the current status of those links and to rectify them in due course,
    we can use a small utility called **Xenu's Link Sleuth** (download it from [http://xenus-link-sleuth.en.softonic.com](http://xenus-link-sleuth.en.softonic.com)),
    which is a portable freeware, to generate a report on any broken link the site
    may have.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 为了检查这些链接的当前状态并及时纠正它们，我们可以使用一个名为**Xenu's Link Sleuth**的小实用程序（从[http://xenus-link-sleuth.en.softonic.com](http://xenus-link-sleuth.en.softonic.com)下载），这是一个便携式免费软件，用于生成网站可能存在的任何损坏链接的报告。
- en: Moving ahead, using Firefox or Chrome, you can check the time taken by the page
    to load by right-clicking anywhere on the page and selecting **Inspect Element**
    | **Network**. Then we have to refresh the page to see the real-time results of
    the time taken by all the requests to the server from the page.![How to do it…](img/5749OT_01_03.jpg)
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 继续使用Firefox或Chrome，您可以通过右键单击页面上的任何位置并选择**检查元素** | **网络**来检查页面加载所需的时间。然后，我们需要刷新页面以查看从页面到服务器的所有请求所花费的实时时间结果。![如何操作...](img/5749OT_01_03.jpg)
- en: You may like to check whether scripts for external widgets or any large image
    file is taking a long time to load, hampering the performance of the website.
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可能希望检查外部小部件的脚本或任何大型图像文件是否需要很长时间才能加载，从而影响网站的性能。
- en: How it works...
  id: totrans-23
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: The knowledge of the target audience, browsers, known content-based broken mark-up
    information, and linking structure will help you improve the final migrated product
    quality.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 了解目标受众、浏览器、已知基于内容的损坏标记信息和链接结构将有助于改善最终迁移产品的质量。
- en: Also, you may wish to move from old DHTML/JavaScript utilities to improved jQuery
    libraries, or image-based text to CSS-driven styling for healthy performance.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，您可能希望从旧的DHTML/JavaScript实用程序转移到改进的jQuery库，或者从基于图像的文本转移到基于CSS的样式以获得更健康的性能。
- en: There's more...
  id: totrans-26
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: The relevance of HTML5 is far greater than one expects from a new set of rules
    to write web pages. The simple yet powerful tag comes with a lot of expectations
    from developers as well.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: HTML5的相关性远远超出了人们对编写网页的新规则的预期。这个简单而强大的标签也对开发人员有很多期望。
- en: Impact of valid code
  id: totrans-28
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 有效代码的影响
- en: The **Document Type Definition** (**DTD**), represented as `<!DOCTYPE...>`,
    allows browsers to correctly interpret which rules (XHTML, HTML, and so on) have
    been used to write individual web pages, and subsequently render them correctly.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '**文档类型定义**（**DTD**），表示为`<!DOCTYPE...>`，允许浏览器正确解释已用于编写单个网页的规则（XHTML、HTML等），并随后正确呈现它们。'
- en: Generic specification for HTML, and later for XHTML, allows browsers to render
    the web page with the best solution possible with or without the valid use of
    HTML tags. This means, if a document is written with a defined DTD as XHTML, it
    will still render and display all the elements that are not closed with specifications
    of XHTML (for example `<br/>`).
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: HTML的通用规范，以及后来的XHTML，允许浏览器以最佳解决方案呈现网页，无论是否正确使用HTML标记。这意味着，如果文档以XHTML的定义DTD编写，它仍将呈现和显示所有未使用XHTML规范关闭的元素（例如`<br/>`）。
- en: The whole point of migrating to a higher standard lies in adopting the optimum
    practices to develop the code so that it can pave the way for future technological
    developments. The biggest argument from browser vendors for not supporting all
    the specifications from W3C on HTML or CSS, remains the lower popularity of the
    current standards and wide numbers of web pages still being developed with faulty
    coding practices.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 迁移到更高标准的整个目的在于采用最佳实践来开发代码，以便为未来的技术发展铺平道路。浏览器供应商不支持W3C关于HTML或CSS的所有规范的最大论点仍然是当前标准的较低流行度以及仍在使用错误编码实践开发的网页数量。
- en: As a web professional, it is important for us to make sure that we are developing
    web pages that are up to the international standards, semantically correct, and
    endorse the whole purpose of the Internet as a stateless, ownerless, and free
    network to keep the browser vendors on the edge of their seats.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 作为网络专业人士，重要的是要确保我们开发的网页符合国际标准，语义正确，并且支持互联网作为一个无主、无国界、自由的网络的整体目的，以保持浏览器供应商的竞争力。
- en: Importance of HTML5
  id: totrans-33
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: HTML5的重要性
- en: 'It is not that difficult to understand the reason behind so much hullabaloo
    and noise about HTML5\. To put things in a clear perspective, here are 5 S''s
    of HTML5:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 理解HTML5引起如此多的喧嚣和噪音并不难。为了清晰地表达，这里有HTML5的5个S：
- en: '**File size**: The file size differences with HTML5 using new semantic sectioning
    tags will be marginally smaller than XHTML. With various new tags for tasks that
    needed external support or longer syntaxes, we have a much cleaner and more powerful
    HTML specification now.'
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**文件大小**：使用新的语义分区标记的HTML5与XHTML相比，文件大小差异将略小。有了各种新标签，用于需要外部支持或更长语法的任务，现在我们有了更清洁和更强大的HTML规范。'
- en: '**Semantics**: The semantics of HTML5 standardizes existing coding practices
    to help machines and humans alike, in reading and understanding the code. This
    also paves the way for scalable and maintenance-friendly websites.'
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**语义**：HTML5的语义标准化了现有的编码实践，以帮助机器和人类阅读和理解代码。这也为可扩展和易于维护的网站铺平了道路。'
- en: '**Simplicity**: New easy tags prove more than helpful in defining the structure
    of the document than ever before. This keeps the structure simple and easy to
    understand during maintenance or handover.'
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**简单性**：新的简单标签比以往更有助于定义文档的结构。这使得结构在维护或移交期间保持简单和易于理解。'
- en: '**Support**: With wide varieties of devices and browser support, it is now
    easier to create rich web-based applications without depending on third-party
    plugins on the visitor end. Combined with CSS3, HTML5 comes up with everything
    from beautiful typography to external fonts, gradient colors to rounded edges,
    and much more.'
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**支持**：有了各种设备和浏览器的支持，现在更容易创建丰富的基于Web的应用程序，而不依赖于访问者端的第三方插件。结合CSS3，HTML5提供了从漂亮的排版到外部字体，渐变颜色到圆角边缘等一切。'
- en: '**SEO**: For business owners and marketing managers, HTML5 migration proves
    to be an asset investment, which has a strong potential of returns in the long
    run. With higher content-to-code ratio, semantically located articles, and previously
    available (and actively encouraged with HTML5) microformats data, it is far easier
    for search crawlers to differentiate between genuine information and forced SEO
    practices.'
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**SEO**：对于企业所有者和营销经理来说，HTML5迁移被证明是一项有利的投资，长期来看具有强大的回报潜力。具有更高的内容与代码比例，语义上定位的文章，以及以前可用的（并且在HTML5中积极鼓励）微格式数据，使搜索爬虫更容易区分真实信息和强制性的SEO实践。'
- en: The Semantic Web in a nutshell
  id: totrans-40
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 简而言之，语义Web
- en: 'According to the W3C:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 根据W3C：
- en: '*"The Semantic Web provides a common framework that allows data to be shared
    and reused across application, enterprise, and community boundaries."*'
  id: totrans-42
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: “语义Web提供了一个通用框架，允许数据在应用程序、企业和社区边界之间共享和重复使用。”
- en: In simple terms, this means that distinct modules of a web page such as header,
    footer, content, and so on can be individually identified and extracted by specific
    applications and crawlers for various purposes. Semantics in HTML5 gives an identity
    to the one-dimensional `DIV` tags and helps the websites to be smarter and encourages
    genuine content-based web pages.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 简而言之，这意味着网页的不同模块，如标题、页脚、内容等，可以被特定应用程序和网络爬虫单独识别和提取，用于各种目的。HTML5中的语义给一维`DIV`标签赋予了身份，并帮助网站变得更智能，鼓励基于真实内容的网页。
- en: 'Here is an example of a very fundamental structural difference which we will
    discuss in detail later on:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个非常基本的结构差异的示例，我们将在后面详细讨论：
- en: '![The Semantic Web in a nutshell](img/5749OT_01_04.jpg)'
  id: totrans-45
  prefs: []
  type: TYPE_IMG
  zh: '![简而言之，语义Web](img/5749OT_01_04.jpg)'
- en: Presently, the developers can give IDs of their own choice to style any `DIV`
    tag within the web page. The `ID` for `DIV` of **content** can be `inner-copy`
    or the `ID` for `DIV` of **header** can be `top` and so on in the current practices
    with XHTML and HTML's older versions. This makes it impossible for external applications
    or crawlers to identify the actual content from spam data on the web page.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 目前，开发人员可以为网页内的任何`DIV`标签指定自己选择的ID。**内容**的`DIV`的`ID`可以是`inner-copy`，**标题**的`DIV`的`ID`可以是`top`，在当前的XHTML和HTML旧版本中也是如此。这使得外部应用程序或网络页面上的垃圾数据无法识别实际内容。
- en: With HTML5, the new tags such as `HEADER`, `FOOTER`, `NAV`, `ARTICLE`, `ASIDE`,
    or `SECTION,` to name a few, provide a global identification system for various
    sections of a web page.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 使用HTML5，新的标签如`HEADER`、`FOOTER`、`NAV`、`ARTICLE`、`ASIDE`或`SECTION`等提供了一个全局的标识系统，用于网页的各个部分。
- en: Finally
  id: totrans-48
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 最后
- en: Armed with all the information necessary about the current website and with
    a clear purpose of the exercise, we begin the migration to HTML5.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 掌握了关于当前网站的所有必要信息，并明确了练习的目的，我们开始迁移到HTML5。
- en: We will also look at priority hacks and alternate solutions, which can solve
    some of these issues.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还将研究优先级黑客和替代解决方案，这些解决方案可以解决其中一些问题。
- en: The migration begins (Must know)
  id: totrans-51
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 迁移开始（必须知道）
- en: In this section, we will take a sample XHTML page with routine features or sections,
    and will transform it into HTML5 without disturbing any of the previous content
    or structure of the website.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将以一个具有常规特性或部分的示例XHTML页面，并将其转换为HTML5，而不会破坏先前的内容或网站结构。
- en: Getting ready
  id: totrans-53
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备就绪
- en: First off, get a local copy of your website from FTP and take a backup in some
    other folder for a comparison later. Open one of the HTML documents in the editor.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，从FTP获取网站的本地副本，并在其他文件夹中备份以供以后比较。在编辑器中打开其中一个HTML文档。
- en: How to do it…
  id: totrans-55
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做…
- en: 'The example document''s code may look something like the following code:'
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 示例文档的代码可能如下所示：
- en: '[PRE0]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Let''s add a bit of styling to the preceding HTML page:'
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 让我们给前面的HTML页面添加一些样式：
- en: '[PRE1]'
  id: totrans-59
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: This is how the page looks in the browser:![How to do it…](img/5749OT_01_06.jpg)
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 页面在浏览器中的样子：![如何做…](img/5749OT_01_06.jpg)
- en: Note
  id: totrans-61
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**Downloading the example code**'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: '**下载示例代码**'
- en: You can download the example code files for all Packt books you have purchased
    from your account at [http://www.PacktPub.com](http://www.PacktPub.com). If you
    purchased this book elsewhere, you can visit [http://www.PacktPub.com/support](http://www.PacktPub.com/support)
    and register to have the files e-mailed directly to you.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从您在[http://www.PacktPub.com](http://www.PacktPub.com)账户中购买的所有Packt图书中下载示例代码文件。如果您在其他地方购买了本书，您可以访问[http://www.PacktPub.com/support](http://www.PacktPub.com/support)注册并直接通过电子邮件接收文件。
- en: The DOCTYPE
  id: totrans-64
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 文档类型
- en: Browsers identify the documents' type, based on the Document Type Definition
    (DTD), which is declared in the first line of the preceding code by using the
    `DOCTYPE` tag. DTDs define specific rules for the markup language.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 浏览器根据文档类型定义（DTD）来识别文档类型，该定义在前面的代码的第一行中使用`DOCTYPE`标签声明。DTD定义了标记语言的特定规则。
- en: 'The DTD in the example code, which is in XHTML 1.0 with transitional rules,
    is defined as follows:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 示例代码中的DTD是XHTML 1.0的过渡规则，定义如下：
- en: '[PRE2]'
  id: totrans-67
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'The `DOCTYPE` definition for HTML and XHTML documents varies between various
    versions and different rule sets such as `transitional`, `loose`, `strict`, or
    `frameset`. The problem of memorizing many different lines of code for various
    document versions or rule definitions is resolved in HTML5 by just using:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: HTML和XHTML文档的`DOCTYPE`定义在各个版本和不同的规则集之间有所不同，如`transitional`、`loose`、`strict`或`frameset`。在HTML5中，解决了为各种文档版本或规则定义记忆许多不同行的代码的问题，只需使用：
- en: '[PRE3]'
  id: totrans-69
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Short and simple.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 简短而简单。
- en: The root element
  id: totrans-71
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 根元素
- en: 'Moving ahead, we come to the root element with the following code:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 继续前进，我们来到根元素的以下代码：
- en: '[PRE4]'
  id: totrans-73
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'As we have already established the document type with `DOCTYPE` in the first
    line of the code, there is no need to declare it again. This truncates the tag
    to its primary form with the following language declaration:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 由于我们已经在代码的第一行中用`DOCTYPE`确定了文档类型，因此无需再次声明。这将标签截断为其主要形式，并使用以下语言声明：
- en: '[PRE5]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: The head element
  id: totrans-76
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: head元素
- en: 'The first thing that we declare in the head of any HTML page is for the character
    encoding. This makes the browser understand and helps translate if we have used
    any special character in the content. The character encoding is defined within
    a `Meta` tag:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 在任何HTML页面的头部声明的第一件事是字符编码。这使浏览器理解并帮助翻译我们在内容中使用的任何特殊字符。字符编码在`Meta`标签中定义：
- en: '[PRE6]'
  id: totrans-78
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'And once again, this requires a declaration of content type for the third time
    in one page. After removing the unwanted code and repetitive declarations, this
    truncates to the following:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 再次，这需要在同一页中第三次声明内容类型。删除不需要的代码和重复声明后，变成以下内容：
- en: '[PRE7]'
  id: totrans-80
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'By looking at the migrated code up to this point, we get the following:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 通过查看迁移代码到目前为止，我们得到以下内容：
- en: '[PRE8]'
  id: totrans-82
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: The body element
  id: totrans-83
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: body元素
- en: 'The simplifies the `div` elements for common HTML documents as follows:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 简化了常见HTML文档的`div`元素如下：
- en: '[PRE9]'
  id: totrans-85
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'HTML5 gives us a universal identification for these `DIV` tags for individual
    identification:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: HTML5为这些`DIV`标签提供了通用的标识：
- en: '[PRE10]'
  id: totrans-87
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: The `DIV` tag `sidebar` can be identified as unique with the `<aside>` tag.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: '`DIV`标签`sidebar`可以用`<aside>`标签来唯一标识。'
- en: 'Let us put all the new tags in the main code and here is what it will look
    like:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们把所有新标签放在主代码中，看起来是这样的：
- en: '[PRE11]'
  id: totrans-90
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Please note that HTML5 does not have any `<wrapper>` or `<container>` tags,
    and the use of the `DIV` tag is still a valid and acceptable practice with HTML5\.
    The `<div id="wrapper">` or `<div id="container">` tag declarations are still
    commonly used to define the actual width of the page.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，HTML5没有任何`<wrapper>`或`<container>`标签，而使用`DIV`标签仍然是HTML5中有效和可接受的做法。`<div
    id="wrapper">`或`<div id="container">`标签声明仍然常用于定义页面的实际宽度。
- en: The CSS
  id: totrans-92
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: CSS
- en: With the newly truncated HTML code, we need to change the CSS as well. The CSS
    with HTML5 as elements helps in reducing CSS selectors for many tag elements.
    Hence, no prefixes are required for `CLASS` or `ID` designations on sectioning
    tags in the stylesheet for these elements; for example, `p.intro` and so on.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 通过新的截断HTML代码，我们也需要改变CSS。HTML5作为元素的CSS有助于减少CSS选择器对许多标签元素的需求。因此，在样式表中这些元素的`CLASS`或`ID`标识不需要前缀；例如，`p.intro`等。
- en: '[PRE12]'
  id: totrans-94
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: The compatibility scenarios
  id: totrans-95
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 兼容性方案
- en: At present, only few, less popular browsers support all the block-based display
    for the new tags. To solve this problem, we have to create the definitions for
    browsers that *do not* yet understand the new semantic sectioning tags shown.
    Some browsers (certain versions of Internet Explorer) will need these to be explicitly
    created.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 目前，只有少数不太流行的浏览器支持新标签的基于块的显示。为了解决这个问题，我们必须为*尚未*理解所示的新语义分区标签的浏览器创建定义。一些浏览器（某些版本的Internet
    Explorer）将需要明确创建这些定义。
- en: 'In order to define this, we just need to add the preceding code snippet at
    the top of the CSS file:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 为了定义这一点，我们只需要在CSS文件的顶部添加前面的代码片段：
- en: '[PRE13]'
  id: totrans-98
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Further semantic sections
  id: totrans-99
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 进一步的语义部分
- en: If you look closely at the code that we are using in the example, you will find
    that there are two `H1` and `H2` tags in constant use. One is for the header in
    the web page and another is for the content. This may result in confusion for
    the crawlers and may result in multiple occurrences of the headings on some pages.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您仔细查看我们在示例中使用的代码，您会发现我们不断使用两个`H1`和`H2`标签。一个是网页的标题，另一个是内容。这可能会导致爬虫混淆，并可能导致某些页面上标题的多次出现。
- en: To sort this issue, we can define *header groups* or the `HGROUP` element.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 为了解决这个问题，我们可以定义*标题组*或`HGROUP`元素。
- en: 'Here, the first set of headers become:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，第一组标题变成：
- en: '[PRE14]'
  id: totrans-103
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'And the second group becomes:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 第二组变成：
- en: '[PRE15]'
  id: totrans-105
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'For multiple header occurrences on the page, which acts as a landing page for
    a particular section of articles, this can be appended for easy manipulation for
    a specific group:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 对于页面上出现多个标题的情况，这可以附加到特定组的便于操作：
- en: '[PRE16]'
  id: totrans-107
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'The styling for the headers can be done with the following selectors:'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 标题的样式可以使用以下选择器进行设置：
- en: '[PRE17]'
  id: totrans-109
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: This not only makes it easy to manipulate any specific set of headings, but
    also helps in generating a neat CSS file.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 这不仅使得操纵任何特定组的标题变得容易，而且有助于生成一个整洁的CSS文件。
- en: Figures and captions
  id: totrans-111
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 图表和标题
- en: If we look at all the textbooks or newspapers, it is a common practice to use
    figure captions with each image or graphic to provide a complete visual explanation.
    Looking at the web pages with the plain `<img>` element, we have to provide captions
    using a manual `div` element with all the additional properties associated with
    it.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们查看所有的教科书或报纸，使用每个图像或图形的图表标题是一种常见做法，以提供完整的视觉解释。查看使用普通`<img>`元素的网页，我们必须使用手动的`div`元素来提供与之相关的所有附加属性。
- en: '[PRE18]'
  id: totrans-113
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'HTML5 allows us to chunk out figures and images with the `FIGURE` element and
    caption with a nested `FIGCAPTION` element:'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: HTML5允许我们使用`FIGURE`元素和嵌套的`FIGCAPTION`元素来分块图表和图像：
- en: '[PRE19]'
  id: totrans-115
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'This will output the following:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 这将输出以下内容：
- en: '![Figures and captions](img/5749OT_01_07.jpg)'
  id: totrans-117
  prefs: []
  type: TYPE_IMG
  zh: '![图表和标题](img/5749OT_01_07.jpg)'
- en: Use a small styling for the center alignment of the caption, if needed, and
    we have a semantically correct graphic, which also by abides the accessibility
    and **Creative Commons** rules.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 如果需要，可以对标题进行居中对齐的小样式，并且我们有一个语义上正确的图形，也符合无障碍和**知识共享**规则。
- en: Form elements
  id: totrans-119
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 表单元素
- en: Form elements in the previous versions of HTML were highly dependent on JavaScript
    support for certain basic tasks such as **placeholders** and **required data**.
    With HTML5, we get several new attributes to support the `form` and `input` elements.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 在以前的HTML版本中，表单元素高度依赖于JavaScript支持，用于一些基本任务，如**占位符**和**必填数据**。使用HTML5，我们获得了几个新属性来支持`form`和`input`元素。
- en: 'Some of these attributes are as follows:'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是一些属性：
- en: '| `autocomplete` | `height and width` |'
  id: totrans-122
  prefs: []
  type: TYPE_TB
  zh: '| `autocomplete` | `height and width` |'
- en: '| `autofocus` | `list` |'
  id: totrans-123
  prefs: []
  type: TYPE_TB
  zh: '| `autofocus` | `list` |'
- en: '| `form` | `min and max` |'
  id: totrans-124
  prefs: []
  type: TYPE_TB
  zh: '| `form` | `min and max` |'
- en: '| `formaction` | `multiple` |'
  id: totrans-125
  prefs: []
  type: TYPE_TB
  zh: '| `formaction` | `multiple` |'
- en: '| `formenctype` | `pattern (regexp)` |'
  id: totrans-126
  prefs: []
  type: TYPE_TB
  zh: '| `formenctype` | `pattern (regexp)` |'
- en: '| `formmethod` | `placeholder` |'
  id: totrans-127
  prefs: []
  type: TYPE_TB
  zh: '| `formmethod` | `placeholder` |'
- en: '| `formnovalidate` | `required` |'
  id: totrans-128
  prefs: []
  type: TYPE_TB
  zh: '| `formnovalidate` | `required` |'
- en: '| `formtarget` | `step` |'
  id: totrans-129
  prefs: []
  type: TYPE_TB
  zh: '| `formtarget` | `step` |'
- en: There are still some gaps in browser support for these attributes, but with
    the new IE10, Microsoft has promised to bridge this gap to maximum capacity.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这些属性，浏览器的支持仍然存在一些差距，但是随着新的IE10，微软承诺最大程度地弥合这一差距。
- en: 'Here are some of the most commonly used attributes for HTML5 form elements:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是HTML5表单元素中最常用的一些属性：
- en: 'Putting in practice, for autofocus:'
  id: totrans-132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 实际应用中，用于自动对焦：
- en: '[PRE20]'
  id: totrans-133
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'Using an image for a button:'
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用图像作为按钮：
- en: '[PRE21]'
  id: totrans-135
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'Required field:'
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 必填字段：
- en: '[PRE22]'
  id: totrans-137
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'Placeholder text in a form input:'
  id: totrans-138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 表单输入中的占位文本：
- en: '[PRE23]'
  id: totrans-139
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: Input types
  id: totrans-140
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 输入类型
- en: 'Furthermore, the new input types in HTML5 reduce a lot of additional scripting
    required by the developers. These new input types are:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，HTML5中的新输入类型减少了开发人员需要的大量额外脚本。这些新的输入类型包括：
- en: '| `color` | `range` |'
  id: totrans-142
  prefs: []
  type: TYPE_TB
  zh: '| `color` | `range` |'
- en: '| `date` | `search` |'
  id: totrans-143
  prefs: []
  type: TYPE_TB
  zh: '| `date` | `search` |'
- en: '| `datetime` | `tel` |'
  id: totrans-144
  prefs: []
  type: TYPE_TB
  zh: '| `datetime` | `tel` |'
- en: '| `datetime-local` | `time` |'
  id: totrans-145
  prefs: []
  type: TYPE_TB
  zh: '| `datetime-local` | `time` |'
- en: '| `email` | `url` |'
  id: totrans-146
  prefs: []
  type: TYPE_TB
  zh: '| `email` | `url` |'
- en: '| `month` | `week` |'
  id: totrans-147
  prefs: []
  type: TYPE_TB
  zh: '| `month` | `week` |'
- en: '| `number` |   |'
  id: totrans-148
  prefs: []
  type: TYPE_TB
  zh: '| `number` |   |'
- en: All the new input types are supported by Google Chrome and Opera at the time
    this book is being written, but there are still some inconsistencies with other
    browsers.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 在撰写本书时，所有新的输入类型都得到了Google Chrome和Opera的支持，但是其他浏览器仍然存在一些不一致性。
- en: 'Let''s have a look at some of the applications of these input types:'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来看看这些输入类型的一些应用：
- en: 'Color picker:'
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 颜色选择器：
- en: '[PRE24]'
  id: totrans-152
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'Date picker:'
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 日期选择器：
- en: '[PRE25]'
  id: totrans-154
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'Validated e-mails:'
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 验证的电子邮件：
- en: '[PRE26]'
  id: totrans-156
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'Range selector:'
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 范围选择器：
- en: '[PRE27]'
  id: totrans-158
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: How it works...
  id: totrans-159
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: HTML5 standardizes common coding practices and creates a set of more semantically-orientated
    sectioning tags (for example, `header`, `nav`, `footer`, and so on). This promotes
    machine-readability, interoperability, and reusability of content data.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: HTML5标准化了常见的编码实践，并创建了一组更具语义的分区标签（例如`header`、`nav`、`footer`等）。这促进了内容数据的机器可读性、互操作性和可重用性。
- en: Eliminating all of the repetitive content in the `DOCTYPE` declaration and primary
    syntax, which announces the document to the browser and other applications about
    its format, makes it easier for the developers to structure and organize the content.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 通过消除`DOCTYPE`声明和主要语法中的所有重复内容，宣布文档的格式，使开发人员更容易地构建和组织内容。
- en: With the removal of the need to overuse the `DIV` tags with `ID` or `CLASSES`
    by the introduction of semantic sectioning tags such as `header`, `footer`, `nav`
    and so on, the code now looks much cleaner and semantically correct.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 通过引入语义化分区标签，如`header`、`footer`、`nav`等，消除了对`DIV`标签的过度使用，现在的代码看起来更清晰、语义上更正确。
- en: There's more...
  id: totrans-163
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: One might need some clarifications about the utilities of specific tags that
    can be used in place of each other. The **Section versus Article** and **Menu
    versus Nav** tags are explained here.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 可能需要一些关于可以互换使用的特定标签的实用性的澄清。**Section versus Article**和**Menu versus Nav**标签在这里有解释。
- en: Section versus Article
  id: totrans-165
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Section versus Article
- en: There are still some arguments about the nesting of the `<section>` and `<article>`
    tags among the developers' community. Some developers prefer to call the content
    `DIV` as `<section>` and put multiple `<article>` tags inside, and some prefer
    to have one `<article>` tag with multiple `<section>` tags.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 在开发人员社区中，关于`<section>`和`<article>`标签的嵌套仍然存在一些争论。一些开发人员更喜欢将内容`DIV`称为`<section>`，并在其中放置多个`<article>`标签，而一些人更喜欢使用一个`<article>`标签和多个`<section>`标签。
- en: An `article` tag is recommended to be used for a piece of content that could
    be syndicated in its entirety and still make sense in a different context (as
    in a magazine article).
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 建议使用`article`标签来表示可以在完整情境中进行合并并仍然有意义的内容（如杂志文章）。
- en: The `section` tag is generally recommended to be used in a page of content to
    denote an area that is thematically distinct from another area on a page; for
    example, a news area and a blog area.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 通常建议使用`section`标签在内容页中表示与页面上的另一个区域在主题上有明显区别的区域；例如，新闻区域和博客区域。
- en: Menu versus Nav
  id: totrans-169
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 菜单与导航
- en: Just like `section` and `article`, we have another set of similar sounding elements
    in `nav` and `menu`.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 就像`section`和`article`一样，我们在`nav`和`menu`中有另一组听起来相似的元素。
- en: According to W3C, the `nav` element represents a section of a document that
    links to other documents or to parts within the document itself; that is, a section
    of navigation links and the `menu` element is used to define context menus and
    toolbars.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 根据W3C，`nav`元素表示文档的一个部分，链接到其他文档或文档内的部分；也就是说，一个导航链接部分和`menu`元素用于定义上下文菜单和工具栏。
- en: In short, use `nav` for main navigation and `menu` for on-page applications.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 简而言之，使用`nav`进行主导航，使用`menu`进行页面应用。
- en: Microformats – the smarter Web(Should know)
  id: totrans-173
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 微格式-更智能的网络（应该知道）
- en: 'According to [www.microformats.org](http://www.microformats.org):'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 根据[www.microformats.org](http://www.microformats.org)：
- en: '*"Designed for humans first and machines second, microformats are a set of
    simple, open data formats built upon existing and widely adopted standards."*'
  id: totrans-175
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: “首先为人类设计，其次为机器，微格式是一组简单的、基于现有和广泛采用的标准构建的开放数据格式。”
- en: Though **microformats** already existed and was much in practice prior to the
    HTML5 specifications announcement from W3C, their common motto of a semantic way
    of coding enhanced the status of microformats many fold.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管**微格式**在W3C宣布HTML5规范之前已经存在并且在实践中被广泛使用，但它们对编码的语义化方式的共同座右铭大大提升了微格式的地位。
- en: Using microformats does not affect any visual aspect of the web page, but these
    selectors can be used to style the presentation of the data if required.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 使用微格式不会影响网页的任何视觉方面，但如果需要，这些选择器可以用于样式化数据的呈现。
- en: Getting ready
  id: totrans-178
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: 'To begin with, let us have a look at the common microformats in use:'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，让我们来看一下常用的微格式：
- en: Published microformats
  id: totrans-180
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 已发布的微格式
- en: Published microformats were standardized by W3C even before the HTML5 specifications
    were released. The use of these microformats is heavily recommended and encouraged.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 标准化的微格式甚至在HTML5规范发布之前就已经由W3C制定。强烈推荐和鼓励使用这些微格式。
- en: Compound microformats
  id: totrans-182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 复合微格式
- en: '**hCard**: This defines the contact information for people and organizations'
  id: totrans-183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**hCard**：这定义了人员和组织的联系信息'
- en: '**hCalendar**: This defines time-based information, such as events'
  id: totrans-184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**hCalendar**：这定义了基于时间的信息，如事件'
- en: '**XOXO**: This defines outlines'
  id: totrans-185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**XOXO**：这定义了大纲'
- en: 'Elemental (simple) microformats:'
  id: totrans-186
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基本（简单）微格式：
- en: '**hAtom**: This is used for marking up Atom feeds from within the standard
    HTML'
  id: totrans-187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**hAtom**：这用于在标准HTML中标记Atom源'
- en: '**adr**: This defines postal addresses'
  id: totrans-188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**adr**：这定义了邮政地址'
- en: '**geo**: This defines geographical coordinates (latitude, longitude)'
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**geo**：这定义了地理坐标（纬度、经度）'
- en: '**hMedia**: This defines audio/video content'
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**hMedia**：这定义了音频/视频内容'
- en: '**hNews**: This defines news content'
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**hNews**：这定义了新闻内容'
- en: '**hProduct**: This defines data about products'
  id: totrans-192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**hProduct**：这定义了产品的数据'
- en: '**hRecipe**: This defines data about recipes and foodstuffs'
  id: totrans-193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**hRecipe**：这定义了食谱和食品的数据'
- en: '**hResume**: This defines data such as resumes or CVs'
  id: totrans-194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**hResume**：这定义了诸如简历或CV的数据'
- en: '**hReview**: This defines reviews'
  id: totrans-195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**hReview**：这定义了评论'
- en: '**rel-directory**: This is used for distributed directory creation and inclusion'
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rel-directory**：这用于分布式目录的创建和包含'
- en: '**rel-enclosure**: This defines multimedia attachments to web pages'
  id: totrans-197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rel-enclosure**：这定义了网页的多媒体附件'
- en: '**rel-license**: This defines the specification of a copyright license'
  id: totrans-198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rel-license**：这定义了版权许可的规范'
- en: '**rel-nofollow**: This performs an attempt to discourage third-party content
    spam (for example, spam in blogs)'
  id: totrans-199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rel-nofollow**：这是为了阻止第三方内容垃圾信息（例如博客中的垃圾信息）而进行的尝试'
- en: '**rel-tag**: This is used for decentralized tagging (folksonomy)'
  id: totrans-200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rel-tag**：这用于分散式标记（folksonomy）'
- en: '**xFolk**: This defines tagged links'
  id: totrans-201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**xFolk**：这定义了标记链接'
- en: '**XHTML Friends Network** (**XFN**): This is used for social relationships'
  id: totrans-202
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**XHTML Friends Network**（**XFN**）：这用于社交关系'
- en: '**VoteLinks**: This is used to indicate agreement or disagreement with, or
    indifference to, the link''s destination'
  id: totrans-203
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**VoteLinks**：这用于表示对链接目标的同意、不同意或漠不关心'
- en: Draft microformats
  id: totrans-204
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 草案微格式
- en: 'There are a few microformats that are under development, which we can choose
    to implement as and when necessary by keeping the future in sight:'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 有一些微格式正在开发中，我们可以选择在必要时实施，以便未来考虑：
- en: '**hAudio**: This defines audio files and references to released recordings'
  id: totrans-206
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**hAudio**：这定义了音频文件和对已发布录音的引用'
- en: '**citation**: This defines citing references'
  id: totrans-207
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**citation**：这定义了引用参考文献'
- en: '**currency**: This defines amount details of money'
  id: totrans-208
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**currency**：这定义了货币的金额细节'
- en: '**figure**: This is used to associate captions with images'
  id: totrans-209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**figure**：这用于将标题与图像关联起来'
- en: '**geo extensions**: This defines names of places on Mars, the Moon, and other
    such bodies. It also stores data about altitudes and collections of waypoints
    marking routes or boundaries'
  id: totrans-210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**geo扩展**：这定义了火星、月球和其他天体的地名。它还存储了有关海拔和标记路线或边界的航点集合的数据'
- en: '**species**: This defines the names of living things (already used by Wikipedia
    and the BBC Wildlife Finder)'
  id: totrans-211
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**species**：这定义了生物的名称（已被维基百科和BBC野生动物查找器使用）'
- en: '**measure**: This defines physical quantities and structured data-values'
  id: totrans-212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**measure**：这定义了物理量和结构化数据值'
- en: Now, we need to list out all generic properties of content, which can be shared
    with various devices. Documents and purposes such as dates can be used in calendars,
    e-mail addresses can be used for address books, a street address can be utilized
    by a maps application, or a CV can be searched by a simple bot if it was defined
    with `hResume`.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们需要列出所有可以与各种设备共享的内容的通用属性。日期等文档和用途可以用于日历，电子邮件地址可以用于通讯录，街道地址可以被地图应用程序利用，或者如果使用`hResume`定义了简单的机器人可以搜索简历。
- en: How to do it…
  id: totrans-214
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 操作方法…
- en: Let us take an example of the most common usage of microformats.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们以微格式的最常见用法为例。
- en: hCard
  id: totrans-216
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: hCard
- en: Every website generally has a contact page with a registered address of the
    organization behind it. In general, addresses are formed by some common attributes,
    such as the organization name, contact person, building number, street name, city,
    state, postal code, country, phone number, e-mail address, and so on.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 每个网站通常都有一个联系页面，其中包含组织的注册地址。一般来说，地址由一些常见属性组成，如组织名称、联系人、建筑编号、街道名称、城市、州、邮政编码、国家、电话号码、电子邮件地址等。
- en: 'For example, the contact details of Packt Publishing, the publishing house
    for this book is:'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，Packt Publishing的联系方式，这本书的出版社是：
- en: Packt Publishing Limited
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: Packt Publishing Limited
- en: 2nd Floor, Livery Place
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: Livery Place，2nd Floor
- en: 35 Livery Street
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: Livery Street，35号
- en: Birmingham
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 伯明翰
- en: B3 2PB
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: B3 2PB
- en: T +44 0121 265 6484
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: T +44 0121 265 6484
- en: F +44 0121 212 1419
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: F +44 0121 212 1419
- en: '`<[contact@packtpub.com](mailto:contact@packtpub.com)>`'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: '`<[contact@packtpub.com](mailto:contact@packtpub.com)>`'
- en: To format this address in HTML without microformats should be simple.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 要在HTML中格式化此地址而不使用微格式应该很简单。
- en: '[PRE28]'
  id: totrans-228
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: A simple and very common coding practice! But does it mean something to the
    browser or the crawlers, other than just being another paragraph tag with some
    links and line breaks? No.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 一个简单而非常常见的编码实践！但对于浏览器或网络爬虫来说，除了只是另一个带有一些链接和换行的段落标签之外，它还意味着什么呢？没有。
- en: 'Now, we add the `hCard` microformat to the previous data:'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们在之前的数据中添加`hCard`微格式：
- en: '[PRE29]'
  id: totrans-231
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'The attributes for `hCard` microformats are as follows:'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: '`hCard`微格式的属性如下：'
- en: '| `vcard` | `email` |'
  id: totrans-233
  prefs: []
  type: TYPE_TB
  zh: '| `vcard` | `email` |'
- en: '| `fn` | `bday` |'
  id: totrans-234
  prefs: []
  type: TYPE_TB
  zh: '| `fn` | `bday` |'
- en: '| `org` | `honorific-prefix` |'
  id: totrans-235
  prefs: []
  type: TYPE_TB
  zh: '| `org` | `honorific-prefix` |'
- en: '| `adr` | `honorific-suffix` |'
  id: totrans-236
  prefs: []
  type: TYPE_TB
  zh: '| `adr` | `honorific-suffix` |'
- en: '| `street-address` | `label` |'
  id: totrans-237
  prefs: []
  type: TYPE_TB
  zh: '| `street-address` | `label` |'
- en: '| `locality` | `logo` |'
  id: totrans-238
  prefs: []
  type: TYPE_TB
  zh: '| `locality` | `logo` |'
- en: '| `postal-code` | `nickname` |'
  id: totrans-239
  prefs: []
  type: TYPE_TB
  zh: '| `postal-code` | `nickname` |'
- en: '| `country-name` | `note` |'
  id: totrans-240
  prefs: []
  type: TYPE_TB
  zh: '| `country-name` | `note` |'
- en: '| `tel` | `photo` |'
  id: totrans-241
  prefs: []
  type: TYPE_TB
  zh: '| `tel` | `photo` |'
- en: '| `fax` | `post-office-box` |'
  id: totrans-242
  prefs: []
  type: TYPE_TB
  zh: '| `fax` | `post-office-box` |'
- en: Date/Time
  id: totrans-243
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 日期/时间
- en: With HTML5, the new entrant in microformats is **Date/Time**. By enhancing the
    new tag `<time>`, we can define the page's age, content relevancy, and calendar
    support for various devices.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 在HTML5中，微格式的新成员是**日期/时间**。通过增强新标签`<time>`，我们可以定义页面的年龄、内容相关性以及对各种设备的日历支持。
- en: '[PRE30]'
  id: totrans-245
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'The `time` element from HTML5 gives a time definition to the content which
    is to follow. Now, let''s add some microformats to it:'
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: HTML5中的`time`元素为接下来的内容提供了时间定义。现在，让我们给它添加一些微格式：
- en: '[PRE31]'
  id: totrans-247
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'The `datetime` as a single attribute covers both date and time, in one definition.
    If we have to define just the time and not the date then we can do the following:'
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: '`datetime`作为单个属性同时涵盖了日期和时间的定义。如果我们只需要定义时间而不是日期，我们可以这样做：'
- en: '[PRE32]'
  id: totrans-249
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: 'Now, together:'
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，一起：
- en: '[PRE33]'
  id: totrans-251
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: Dates can be defined just by the year number, year-month, year-Wxx (where xx
    is the week number of that year), and as we have seen in the preceding example,
    `-T` for the time declaration following the date. The value `+00:00` can be manipulated
    with the GMT time difference to define the local time.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 日期可以通过年份、年-月、年-Wxx（其中xx是该年的周数）来定义，正如我们在前面的例子中看到的，日期后面可以加上`-T`来声明时间。值为`+00:00`可以通过GMT时间差来定义本地时间。
- en: The preceding declaration will be satisfactory enough for various browsers and
    devices to allow the visitor to add a calendar item or a reminder of that event.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 上述声明足以让各种浏览器和设备允许访问者添加日历项或提醒事件。
- en: rel-nofollow
  id: totrans-254
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: rel-nofollow
- en: The `rel-nofollow` microformat has been used by SEO-motivated developers for
    many years now. `rel-nofollow` as an attribute in any `<a>` tag tells the crawlers
    that the following link is an external website or contains data, which the website
    does not require to be crawled or listed in search results.
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: '`rel-nofollow`微格式多年来一直被以SEO为动机的开发者使用。在任何`<a>`标签中使用`rel-nofollow`作为属性告诉网络爬虫，以下链接是外部网站或包含网站不需要被爬取或列入搜索结果的数据。'
- en: '[PRE34]'
  id: totrans-256
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: How it works...
  id: totrans-257
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: Microformats use various class names and attributes to define the properties
    of the specific type of data following them. This data can be identified by browsers,
    devices, and crawlers alike. The simple implementation of `hCard` in the web page
    gives the crawlers a sense of authenticity of the information and organizational
    behavior.
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 微格式使用各种类名和属性来定义其后特定类型数据的属性。这些数据可以被浏览器、设备和网络爬虫识别。在网页中简单实现`hCard`可以让网络爬虫对信息和组织行为产生真实感。
- en: Similarly, Date/Time can also be implemented with the publishing date of the
    specific page to make sure that crawlers identify it as the latest information
    and keep the higher ranking as it is.
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 同样，日期/时间也可以通过特定页面的发布日期来实现，以确保网络爬虫将其识别为最新信息并保持较高的排名。
- en: There's more...
  id: totrans-260
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: The application of microformats is critical for the extendibility of data beyond
    the primary application.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 微格式的应用对数据的扩展性至关重要。
- en: Extended data
  id: totrans-262
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 扩展数据
- en: In the days of multi-device, multi-platform Internet, the information is not
    bound to the standard HTML visualization anymore. The smarter the content of a
    web page is, the more useful it can be for various applications.
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: 在多设备、多平台的互联网时代，信息不再局限于标准的HTML可视化。网页内容越智能，对各种应用程序就越有用。
- en: Many XML-based applications, crawlers, bots, and algorithms are being developed
    everyday to identify and sort the content in a meaningful way. While HTML5 is
    redefining the complete approach to coding, microformats are busy making a new
    smarter Web.
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 许多基于XML的应用程序、网络爬虫、机器人和算法每天都在开发中，以便以有意义的方式识别和排序内容。虽然HTML5正在重新定义编码的整体方法，但微格式正在忙着打造一个更智能的新网络。
- en: Play it on – multimedia (Must know)
  id: totrans-265
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 播放多媒体（必须知道）
- en: Since the inception of HTML, one question has often been debated in the developer
    community. Why do we have an `img` tag for images but there are no `video` or
    `audio` tags to support video or audio files natively? The answer to this question
    was another question about the size of audio/visual files and the speed of the
    Internet.
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 自HTML诞生以来，开发者社区经常讨论一个问题。为什么我们有一个用于图像的`img`标签，但没有用于支持视频或音频文件的`video`或`audio`标签？对这个问题的答案是关于音频/视频文件的大小和互联网速度的另一个问题。
- en: In recent years, the Internet has transformed. Video-sharing websites such as
    YouTube and Vimeo made it an everyday practice for visitors to upload, share,
    and watch multimedia online. This was possible only with third-party software
    plugins such as Adobe Flash, integrated components from Quicktime Player, Realplayer,
    or Windows Media Player.
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 近年来，互联网发生了变革。视频分享网站如YouTube和Vimeo使访问者每天都可以上传、分享和在线观看多媒体。这只有借助第三方软件插件才能实现，如Adobe
    Flash、Quicktime Player、Realplayer或Windows Media Player的集成组件。
- en: In each of these scenarios, it became essential for the visitor to have these
    software and supportive plugins installed locally on their computer. Moreover,
    there was still no standardization about which plugin format should be used by
    the website visited for video purposes.
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 在每种情况下，访问者必须在其计算机上本地安装这些软件和支持插件。此外，关于网站访问者应该使用哪种插件格式来进行视频目的仍然没有标准化。
- en: Loading of all these extensions and plugins within the browser takes a lot of
    time, resulting in a very slow responding computer and connection.
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 在浏览器中加载所有这些扩展和插件需要很长时间，导致计算机和连接响应非常缓慢。
- en: With faster Internet connectivity, browser support, and standardized approach
    definitions from HTML5, native file formats' support for video and audio for browsers
    has solved this problem. Well, almost.
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 随着更快的互联网连接，浏览器支持和HTML5的标准化方法的定义，浏览器对视频和音频的本地文件格式的支持已经解决了这个问题。嗯，几乎解决了。
- en: Getting ready
  id: totrans-271
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: First up, get that analysis of the website we did earlier in the book to see
    the ratio of browsers used by the visitors in recent times.
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，拿出之前在本书中做的网站分析，看看最近访问者使用的浏览器比例。
- en: The `<video>` and `<audio>` tags are supported by all the browsers, including
    IE but only IE9 or higher.
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 所有浏览器都支持`<video>`和`<audio>`标签，包括IE，但只有IE9或更高版本。
- en: The second move would be to have your media files in `.ogv`, `.mp4`, and `.webm`
    for video, and `.ogg` and `.mp3` for audio. The various file formats for every
    file will be left for the browsers to select and play the best format they support.
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 第二步是将媒体文件保存为`.ogv`，`.mp4`和`.webm`用于视频，以及`.ogg`和`.mp3`用于音频。每个文件的各种文件格式将由浏览器选择并播放最佳支持的格式。
- en: How to do it…
  id: totrans-275
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做…
- en: The `<video>` and `<audio>` elements in HTML5 are not much different from the
    `<img>` element for an image. The only visible difference would be the full use
    of the text without abridging to three characters and an independent closing tag.
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: HTML5中的`<video>`和`<audio>`元素与`<img>`元素并没有太大的不同。唯一显著的区别是完全使用文本而不是缩写为三个字符，并且有独立的闭合标签。
- en: Video
  id: totrans-277
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 视频
- en: 'This is how we embed the video in an HTML5 document:'
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 这是我们如何在HTML5文档中嵌入视频的方法：
- en: '[PRE35]'
  id: totrans-279
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: If the visitor comes from a browser that does not support the `video` tag, we
    can add a message to inform them about the inconvenience.
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 如果访客来自不支持`video`标签的浏览器，我们可以添加一条消息来告诉他们这种不便。
- en: '[PRE36]'
  id: totrans-281
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: 'To resolve the individual format support for the browsers, we can provide options
    to the browser itself:'
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 为了解决浏览器对各种格式的支持，我们可以为浏览器本身提供选项：
- en: '[PRE37]'
  id: totrans-283
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: 'Now, we add a few best practices such as video controls, placeholder image,
    type, and codec information for the videos:'
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们添加了一些最佳实践，如视频控件，占位图像，类型和视频的编解码器信息：
- en: '[PRE38]'
  id: totrans-285
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: As you can imagine, the `poster="movie.jpg"` declaration refers to an image
    that will be displayed in the place of the video till the visitor clicks on the
    controls to play the video.
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你可以想象的，`poster="movie.jpg"`声明指的是在访客点击控件播放视频之前将显示的图像。
- en: The `type` and `codecs` attributes are included to tell the browser the specific
    compression version or format used in that particular file, hence saving the time
    it will spend on scanning the video and matching the compression from the library
    of inbuilt codecs.
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: '`type`和`codecs`属性被包括在其中，以告诉浏览器特定的压缩版本或格式在那个特定文件中使用，从而节省浏览器扫描视频和匹配内置编解码器库的压缩所需的时间。'
- en: Audio
  id: totrans-288
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 音频
- en: Once you have understood the `video` element, the `audio` element follows suit.
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你理解了`video`元素，`audio`元素就会跟着来。
- en: '[PRE39]'
  id: totrans-290
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: The controls can be used just as in the preceding example or as `controls="controls"`,
    depending upon the developer's method of choice.
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 控件可以像前面的例子一样使用，也可以使用`controls="controls"`，这取决于开发者的选择方法。
- en: How it works...
  id: totrans-292
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: As mentioned earlier, the arrival of the native `video` and `audio` elements
    of HTML was delayed because of the speed and data size practicalities on the networks.
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，HTML的原生`video`和`audio`元素的到来是因为网络上的速度和数据大小实际问题而延迟的。
- en: In the developed and hotly contested browser market, the browser vendors are
    still calling the shots when it comes to adaptation of any new browser-based technologies.
    This is exactly why we need multiple file formats for both the audio and video
    files on the server. The browsers choose the file format that *they* have proper
    licensing agreements to support and leave the rest as it is. If nothing suitable
    is found, the placeholder message appears for the visitor.
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: 在发展和激烈竞争的浏览器市场中，当涉及到任何新的基于浏览器的技术时，浏览器供应商仍然是决定性的。这正是为什么我们需要服务器上的音频和视频文件有多种文件格式。浏览器选择他们有适当许可协议支持的文件格式，其他的则保持原样。如果找不到合适的文件格式，访客会看到占位消息。
- en: There's more...
  id: totrans-295
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多…
- en: It is not always practical to have multiple file formats of media files because
    of their file sizes. The best approach for developers here is to decide on the
    range of browsers they are planning to support and what format is commonly supported.
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 由于文件大小的原因，拥有多种媒体文件的多种文件格式并不总是切实可行。开发者在这里的最佳方法是决定他们计划支持的浏览器范围以及常见支持的格式。
- en: File formats
  id: totrans-297
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 文件格式
- en: 'Here is a list of file formats supported by various browsers natively with
    these two elements:'
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是各种浏览器原生支持的文件格式列表，包括这两个元素：
- en: '| Video formats |'
  id: totrans-299
  prefs: []
  type: TYPE_TB
  zh: '| 视频格式 |'
- en: '| --- |'
  id: totrans-300
  prefs: []
  type: TYPE_TB
  zh: '| --- |'
- en: '| Browser | MP4 | WebM | Ogg |'
  id: totrans-301
  prefs: []
  type: TYPE_TB
  zh: '| 浏览器 | MP4 | WebM | Ogg |'
- en: '| --- | --- | --- | --- |'
  id: totrans-302
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- |'
- en: '| Internet Explorer 9 | YES | NO | NO |'
  id: totrans-303
  prefs: []
  type: TYPE_TB
  zh: '| 互联网浏览器9 | 是 | 否 | 否 |'
- en: '| Firefox 4.0 | NO | YES | YES |'
  id: totrans-304
  prefs: []
  type: TYPE_TB
  zh: '| 火狐4.0 | 否 | 是 | 是 |'
- en: '| Google Chrome 6 | YES | YES | YES |'
  id: totrans-305
  prefs: []
  type: TYPE_TB
  zh: '| 谷歌浏览器6 | 是 | 是 | 是 |'
- en: '| Apple Safari 5 | YES | NO | NO |'
  id: totrans-306
  prefs: []
  type: TYPE_TB
  zh: '| 苹果Safari 5 | 是 | 否 | 否 |'
- en: '| Opera 10.6 | NO | YES | YES |'
  id: totrans-307
  prefs: []
  type: TYPE_TB
  zh: '| Opera 10.6 | 否 | 是 | 是 |'
- en: '| Audio formats |'
  id: totrans-308
  prefs: []
  type: TYPE_TB
  zh: '| 音频格式 |'
- en: '| --- |'
  id: totrans-309
  prefs: []
  type: TYPE_TB
  zh: '| --- |'
- en: '| Browser | MP3 | Wav | Ogg |'
  id: totrans-310
  prefs: []
  type: TYPE_TB
  zh: '| 浏览器 | MP3 | Wav | Ogg |'
- en: '| --- | --- | --- | --- |'
  id: totrans-311
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- |'
- en: '| Internet Explorer 9 | YES | NO | NO |'
  id: totrans-312
  prefs: []
  type: TYPE_TB
  zh: '| 互联网浏览器9 | 是 | 否 | 否 |'
- en: '| Firefox 4.0 | NO | YES | YES |'
  id: totrans-313
  prefs: []
  type: TYPE_TB
  zh: '| 火狐4.0 | 否 | 是 | 是 |'
- en: '| Google Chrome 6 | YES | YES | YES |'
  id: totrans-314
  prefs: []
  type: TYPE_TB
  zh: '| 谷歌浏览器6 | 是 | 是 | 是 |'
- en: '| Apple Safari 5 | YES | YES | NO |'
  id: totrans-315
  prefs: []
  type: TYPE_TB
  zh: '| 苹果Safari 5 | 是 | 是 | 否 |'
- en: '| Opera 10.6 | NO | YES | YES |'
  id: totrans-316
  prefs: []
  type: TYPE_TB
  zh: '| Opera 10.6 | 否 | 是 | 是 |'
- en: In a general recommendation, `.mp4` and `.ogv` for video, and `.mp3` and `.ogg`
    for audio covers pretty much all browser platforms.
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: 一般建议，视频使用`.mp4`和`.ogv`，音频使用`.mp3`和`.ogg`几乎覆盖了所有浏览器平台。
- en: The mobile – the seamless experience (Become an expert)
  id: totrans-318
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 移动端-无缝体验（成为专家）
- en: For a long period of time, the standard desktop resolution used to be 800 x
    600\. There were no doubts in the web developers' and designers' minds about the
    width of the container or wrapper they were choosing.
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: 很长一段时间以来，标准桌面分辨率通常是800 x 600。在网页开发人员和设计师的头脑中，对容器或包装器的宽度选择没有任何疑问。
- en: All the websites had a temporary 760-pixel width defined and hardcoded in the
    code. When resolutions jumped universally to 1024 x 768, all the web professionals
    moved to almost 980 pixels in their choice of width for any web page.
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: 所有网站都有一个临时的760像素宽度定义，并且在代码中硬编码。当分辨率普遍跳到1024 x 768时，所有网络专业人员都将网页的选择宽度几乎移动到了980像素。
- en: So now, when the devices, which are used to browse the website, range from high-resolution
    tablet computers and smartphones, to your refrigerator (no kidding!), we cannot
    depend on hardcoded fixed-width coding practices.
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: 所以现在，当用于浏览网站的设备从高分辨率平板电脑和智能手机到您的冰箱（不是开玩笑！）时，我们不能依赖硬编码的固定宽度编码实践。
- en: Getting ready
  id: totrans-322
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备好了
- en: Media queries have been around for a long time and is valid even now with surprising
    friendliness with the browsers.
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: 媒体查询已经存在很长时间，即使现在也与浏览器有惊人的友好性。
- en: 'They were present with previous versions of HTML as well as CSS2\. If you can
    recall the small syntaxes such as the following:'
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
  zh: 它们在HTML的先前版本以及CSS2中都存在。如果你能回忆起以下的小语法：
- en: '[PRE40]'
  id: totrans-325
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: The `media="screen"` or `media="print"` declaration made sure that when the
    page is displayed on a device screen, it uses the `style.css` file, and when it
    is sent to a printer, the properties in the `print.css` file are inherited by
    the document.
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: '`media="screen"`或`media="print"`声明确保当页面显示在设备屏幕上时，它使用`style.css`文件，当发送到打印机时，文档继承`print.css`文件中的属性。'
- en: 'Now, the `print.css` file may just contain a completely different font face,
    width, image sizing, or a new layout altogether or we can have just one CSS file
    with specific CSS properties for a specified media:'
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，`print.css`文件可能只包含完全不同的字体、宽度、图像大小，或者全新的布局，或者我们可以只有一个CSS文件，其中包含特定媒体的特定CSS属性：
- en: '[PRE41]'
  id: totrans-328
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: It is not possible for any developer or designer to test their website on each
    and every device-browser combination available out there. This is where we have
    to go back on the analysis we did in the beginning of the book. It may look insignificant
    in numbers, but considering how the website might be rendered on those devices,
    it may cause the visitors to not return or continue browsing on your website.
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: 任何开发人员或设计师都不可能在每一种设备和浏览器组合上测试他们的网站。这就是我们需要回到书的开头所做的分析。在数字上看起来可能微不足道，但考虑到网站在这些设备上可能的呈现方式，可能会导致访问者不再返回或继续浏览您的网站。
- en: How to do it…
  id: totrans-330
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做到这一点...
- en: 'The media type element is defined by using `@media` and supports the following
    media types:'
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: 媒体类型元素是通过使用`@media`定义的，并支持以下媒体类型：
- en: '| `print` | `screen` |'
  id: totrans-332
  prefs: []
  type: TYPE_TB
  zh: '| `print` | `screen` |'
- en: '| `aural` | `tty` |'
  id: totrans-333
  prefs: []
  type: TYPE_TB
  zh: '| `aural` | `tty` |'
- en: '| `braille` | `tv` |'
  id: totrans-334
  prefs: []
  type: TYPE_TB
  zh: '| `braille` | `tv` |'
- en: '| `handheld` | `embossed` |'
  id: totrans-335
  prefs: []
  type: TYPE_TB
  zh: '| `handheld` | `embossed` |'
- en: '| `all` | `speech` |'
  id: totrans-336
  prefs: []
  type: TYPE_TB
  zh: '| `all` | `speech` |'
- en: '| `projection` | `3d-glasses` |'
  id: totrans-337
  prefs: []
  type: TYPE_TB
  zh: '| `projection` | `3d-glasses` |'
- en: The most common media types in practice are `screen` and `print`.
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: 实际上，实践中最常见的媒体类型是`screen`和`print`。
- en: The @media rule
  id: totrans-339
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '@media规则'
- en: For the following examples, we will take *less than* 600px for mobile, a *minimum*
    of 900px for tablet computers, a combination of both of these sizes in one query
    for specific media support, and finally for higher screen resolutions.
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: 对于以下示例，我们将对移动设备取*小于*600px，对平板电脑取*最小*900px，对特定媒体支持的这两种尺寸的组合进行查询，最后对更高的屏幕分辨率进行查询。
- en: '[PRE42]'
  id: totrans-341
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: Common styles can be defined outside of the `@media` element regularly.
  id: totrans-342
  prefs: []
  type: TYPE_NORMAL
  zh: 常见样式可以定期在`@media`元素之外定义。
- en: The HTML call for the styles from media queries is the same, and at no point
    needs any additional treatment.
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
  zh: 从媒体查询中调用样式的HTML调用是相同的，并且在任何时候都不需要任何额外的处理。
- en: '[PRE43]'
  id: totrans-344
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: Too much confusion too soon? There is another way!
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: 太多的混乱太快了？还有另一种方法！
- en: The @import rule
  id: totrans-346
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '@import规则'
- en: 'The `@import` rule allows you to send media queries to the browsers and imports
    the corresponding style rules from an external CSS file:'
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
  zh: '`@import`规则允许您向浏览器发送媒体查询，并从外部CSS文件导入相应的样式规则：'
- en: '[PRE44]'
  id: totrans-348
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: These regular files not only save you the trouble of keeping track of the nesting
    parameters in multiple curly brackets, but also only load the required piece of
    code if necessary.
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: 这些常规文件不仅可以帮助您省去在多个大括号中跟踪嵌套参数的麻烦，而且只在必要时加载所需的代码片段。
- en: 'Other than the `min-width` and `max-width` parameters, the queries can be set
    for various different purposes such as:'
  id: totrans-350
  prefs: []
  type: TYPE_NORMAL
  zh: 除了`min-width`和`max-width`参数之外，查询还可以针对各种不同的目的进行设置，例如：
- en: 'Dimensions:'
  id: totrans-351
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 尺寸：
- en: '[PRE45]'
  id: totrans-352
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: 'Device Aspect Ratio:'
  id: totrans-353
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设备宽高比：
- en: '[PRE46]'
  id: totrans-354
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: 'Device Orientation:'
  id: totrans-355
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设备方向：
- en: '[PRE47]'
  id: totrans-356
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: 'Color:'
  id: totrans-357
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 颜色：
- en: '[PRE48]'
  id: totrans-358
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: How it works...
  id: totrans-359
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: An option-based CSS call from the HTML document loads the stylesheet only once,
    and does not respond when the orientation changes or when the browser window resizes.
    It also causes an unnecessary server connection to check and return with a different
    CSS file based on the device.
  id: totrans-360
  prefs: []
  type: TYPE_NORMAL
  zh: 从HTML文档中的基于选项的CSS调用仅加载样式表一次，并且在方向更改或浏览器窗口调整大小时不会做出响应。它还会导致不必要的服务器连接，以检查并根据设备返回不同的CSS文件。
- en: With media queries defined in the CSS file, it simplifies the way a web page
    reacts to the stylesheet. It allows the identifiers to inherit the properties
    from the stylesheet without causing multiple connections to the server and delays
    in the loading of the web page.
  id: totrans-361
  prefs: []
  type: TYPE_NORMAL
  zh: 通过在CSS文件中定义媒体查询，简化了网页对样式表的反应方式。它允许标识符从样式表中继承属性，而不会导致多次连接到服务器和网页加载时的延迟。
- en: There's more...
  id: totrans-362
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: In the fast-paced web market, it always helps when a developer knows the user
    preferences in hard numbers.
  id: totrans-363
  prefs: []
  type: TYPE_NORMAL
  zh: 在快节奏的网络市场中，当开发人员了解用户偏好的确切数字时，总是有所帮助。
- en: The current trends
  id: totrans-364
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 当前趋势
- en: If we have a look at the report on global trends in [www.StatusCounter.com](http://www.StatusCounter.com),
    it is evidently clear that with the rise of 3G and 4G networks worldwide, mobile
    browsing is definitely on the rise.
  id: totrans-365
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们查看[www.StatusCounter.com](http://www.StatusCounter.com)上的全球趋势报告，很明显，随着全球3G和4G网络的兴起，移动浏览显然正在上升。
- en: '![The current trends](img/5749OT_01_08.jpg)'
  id: totrans-366
  prefs: []
  type: TYPE_IMG
  zh: '![当前趋势](img/5749OT_01_08.jpg)'
- en: 'Another statistic for a relatively shorter period of time can provide us with
    the details of device browsers that were used for mobile browsing for more accurate
    queries and implementation:'
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
  zh: 相对较短时间内的另一个统计数据可以为我们提供用于移动浏览的设备浏览器的详细信息，以进行更准确的查询和实施：
- en: '![The current trends](img/5749OT_01_09.jpg)'
  id: totrans-368
  prefs: []
  type: TYPE_IMG
  zh: '![当前趋势](img/5749OT_01_09.jpg)'
- en: RIA – Canvas (Become an expert)
  id: totrans-369
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: RIA – 画布（成为专家）
- en: If you started your career in web design or development in the late 90s to early
    2000s, there is definitely a good chance that at some point, you've been asked
    to do a zany, cool, and bouncy website using (then) Macromedia Flash.
  id: totrans-370
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您在90年代末到21世纪初开始您的网页设计或开发职业，那么很有可能在某个时候，您被要求使用（当时的）Macromedia Flash制作一个古怪、酷炫和有弹性的网站。
- en: After it was acquired by Adobe in 2005, Flash transformed from being a stage-based,
    procedural script-running, hard-coded, and embedded object to a **Rich Internet
    Application** (**RIA**).
  id: totrans-371
  prefs: []
  type: TYPE_NORMAL
  zh: 在2005年被Adobe收购后，Flash从一个基于舞台的、过程化的脚本运行、硬编码和嵌入式对象转变为**富互联网应用程序**（**RIA**）。
- en: With the arrival of Adobe Flex as an SDK for Flash's Action Script 3.0, the
    company tried to lure more developers into Flash development. Later, Adobe donated
    Flex to the Apache foundation. All this, and yet no browser vendor ever released
    the Flash plugin integrated with any of their products.
  id: totrans-372
  prefs: []
  type: TYPE_NORMAL
  zh: 随着Adobe Flex作为Flash的Action Script 3.0的SDK的到来，该公司试图吸引更多的开发人员进行Flash开发。后来，Adobe将Flex捐赠给了Apache基金会。尽管如此，没有任何浏览器供应商曾经发布过与其产品集成的Flash插件。
- en: Flash-based applications took time to develop, never had any open source frameworks
    supporting the final product, and came across many memory-hogging security threats.
    The biggest blow to this technology came when Apple decided not to support Flash
    with any of the iPad, iPhone, or iPod devices.
  id: totrans-373
  prefs: []
  type: TYPE_NORMAL
  zh: 基于Flash的应用程序需要时间来开发，从来没有任何开源框架支持最终产品，并且遇到了许多占用内存的安全威胁。这项技术遭受的最大打击是当苹果决定不支持Flash与iPad、iPhone或iPod设备中的任何一个。
- en: The message was loud and clear. The web needed a new platform to support Rich
    Internet Applications, which can be seamlessly integrated in browsers without
    any third-party plugin requirement at the visitors' end.
  id: totrans-374
  prefs: []
  type: TYPE_NORMAL
  zh: 信息是清楚的。网络需要一个新的平台来支持富互联网应用程序，这些应用程序可以在浏览器中无缝集成，而不需要访问者端的任何第三方插件。
- en: Presenting HTML5 Canvas.
  id: totrans-375
  prefs: []
  type: TYPE_NORMAL
  zh: 介绍HTML5画布。
- en: Getting ready
  id: totrans-376
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: The HTML5 `canvas` element provides a canvas (surprise!) with a specified height
    and width inside a web page, which can be manipulated with JavaScript to generate
    graphics and Rich Internet Applications.
  id: totrans-377
  prefs: []
  type: TYPE_NORMAL
  zh: HTML5的`canvas`元素在网页中提供了一个指定高度和宽度的画布，可以用JavaScript来操纵生成图形和富互联网应用程序。
- en: How to do it…
  id: totrans-378
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做…
- en: It is just the same as it was with video or audio.
  id: totrans-379
  prefs: []
  type: TYPE_NORMAL
  zh: 这与视频或音频的操作方式完全相同。
- en: '[PRE49]'
  id: totrans-380
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: The preceding syntax gives us a blank block element with the specified height
    and width, which can now be identified with some JavaScript by the ID `TestCanvas`.
  id: totrans-381
  prefs: []
  type: TYPE_NORMAL
  zh: 前面的语法给出了一个具有指定高度和宽度的空白块元素，现在可以通过ID`TestCanvas`用一些JavaScript来识别它。
- en: '[PRE50]'
  id: totrans-382
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: A variable named `test` is defined with the method `document.getElementByID()`
    to identify a canvas on the web page.
  id: totrans-383
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`document.getElementByID()`方法定义了一个名为`test`的变量，以识别网页上的画布。
- en: The `getContext` object, which is a built-in HTML5 object, is defined in another
    variable called `col1`. The value `2d` provides properties and methods for drawing
    paths, boxes, circles, text, images, and more.
  id: totrans-384
  prefs: []
  type: TYPE_NORMAL
  zh: '`getContext`对象是一个内置的HTML5对象，定义在另一个名为`col1`的变量中。值`2d`提供了绘制路径、框、圆、文本、图像等的属性和方法。'
- en: The `fillRect(x,y,width,height)` method provides four parameters to draw a rectangle
    on the x and y coordinates. Similarly, the `fillStyle()` method defines the fill
    color of the drawing.
  id: totrans-385
  prefs: []
  type: TYPE_NORMAL
  zh: '`fillRect(x,y,width,height)`方法提供了四个参数来在x和y坐标上绘制一个矩形。同样，`fillStyle()`方法定义了绘图的填充颜色。'
- en: 'The output is as follows:'
  id: totrans-386
  prefs: []
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![How to do it…](img/5749OT_01_10.jpg)'
  id: totrans-387
  prefs: []
  type: TYPE_IMG
  zh: '![如何做…](img/5749OT_01_10.jpg)'
- en: The origin of the x and y coordinates lies at the top-left corner of the canvas,
    unlike the graph paper (which most of us are used to), where it lies in the bottom-left
    corner.
  id: totrans-388
  prefs: []
  type: TYPE_NORMAL
  zh: x和y坐标的原点位于画布的左上角，不像我们大多数人习惯的图纸上的坐标原点位于左下角。
- en: 'Appending the graph for multiple columns by additional `getContext` variables
    can be done as follows:'
  id: totrans-389
  prefs: []
  type: TYPE_NORMAL
  zh: 通过附加额外的`getContext`变量来添加多列的图表可以这样做：
- en: '[PRE51]'
  id: totrans-390
  prefs: []
  type: TYPE_PRE
  zh: '[PRE51]'
- en: 'We get the following output:'
  id: totrans-391
  prefs: []
  type: TYPE_NORMAL
  zh: 我们得到了以下输出：
- en: '![How to do it…](img/5749OT_01_11.jpg)'
  id: totrans-392
  prefs: []
  type: TYPE_IMG
  zh: '![如何做…](img/5749OT_01_11.jpg)'
- en: The `getContext` variables can be defined with different methods as well.
  id: totrans-393
  prefs: []
  type: TYPE_NORMAL
  zh: '`getContext`变量也可以用不同的方法定义。'
- en: 'To draw a line we use the `moveTo(x,y)` and `lineTo(x,y)` methods:'
  id: totrans-394
  prefs: []
  type: TYPE_NORMAL
  zh: 要绘制一条线，我们使用`moveTo(x,y)`和`lineTo(x,y)`方法：
- en: '[PRE52]'
  id: totrans-395
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: The `moveTo()` method defines the starting point of the line and the `lineTo()`
    method defines the end point on the x and y coordinates. The `stroke()` method
    without any value assigned to it connects the two assigned points with a line
    stroke.
  id: totrans-396
  prefs: []
  type: TYPE_NORMAL
  zh: '`moveTo()`方法定义了线的起点，`lineTo()`方法定义了x和y坐标的终点。`stroke()`方法没有分配任何值给它，它用一条线连接了两个指定的点。'
- en: The `stroke()` and `fill()` are the ink methods used to define the visibility
    of the graphic.
  id: totrans-397
  prefs: []
  type: TYPE_NORMAL
  zh: '`stroke()`和`fill()`是用于定义图形可见性的墨水方法。'
- en: '![How to do it…](img/5749OT_01_12.jpg)'
  id: totrans-398
  prefs: []
  type: TYPE_IMG
  zh: '![如何做…](img/5749OT_01_12.jpg)'
- en: 'To draw a circle we use the `arc(x,y,r,start,stop)` method:'
  id: totrans-399
  prefs: []
  type: TYPE_NORMAL
  zh: 要绘制一个圆，我们使用`arc(x,y,r,start,stop)`方法：
- en: '[PRE53]'
  id: totrans-400
  prefs: []
  type: TYPE_PRE
  zh: '[PRE53]'
- en: With the `arc()` method, we must use either the `fill()` method or the `stroke()`
    method for a visible area.
  id: totrans-401
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`arc()`方法时，我们必须使用`fill()`方法或`stroke()`方法来获得可见区域。
- en: '![How to do it…](img/5749OT_01_13.jpg)'
  id: totrans-402
  prefs: []
  type: TYPE_IMG
  zh: '![如何做…](img/5749OT_01_13.jpg)'
- en: 'For further exploration, here are a few more canvas methods that can be tried
    out:'
  id: totrans-403
  prefs: []
  type: TYPE_NORMAL
  zh: 为了进一步探索，这里有一些可以尝试的画布方法：
- en: 'Text for canvas:'
  id: totrans-404
  prefs: []
  type: TYPE_NORMAL
  zh: 画布上的文本：
- en: '`font`: This specifies font properties for text'
  id: totrans-405
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`font`: 这指定了文本的字体属性'
- en: '`fillText(text,x,y)`: This draws normal text on the canvas'
  id: totrans-406
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`fillText(text,x,y)`: 这在画布上绘制普通文本'
- en: '`strokeText(text,x,y)`: This draws stroked text without any fill color'
  id: totrans-407
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`strokeText(text,x,y)`: 这会绘制没有填充颜色的描边文本'
- en: 'Here are the syntaxes for the preceding properties:'
  id: totrans-408
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是先前属性的语法：
- en: '[PRE54]'
  id: totrans-409
  prefs: []
  type: TYPE_PRE
  zh: '[PRE54]'
- en: '![How to do it…](img/5749OT_01_14.jpg)'
  id: totrans-410
  prefs: []
  type: TYPE_IMG
  zh: '![如何做...](img/5749OT_01_14.jpg)'
- en: 'And for the last example, we will do a raster image drawing using the ID into
    the canvas:'
  id: totrans-411
  prefs: []
  type: TYPE_NORMAL
  zh: 最后一个例子，我们将使用ID进行栅格图像绘制到画布中：
- en: '[PRE55]'
  id: totrans-412
  prefs: []
  type: TYPE_PRE
  zh: '[PRE55]'
- en: Similar to the ID for Canvas, the image ID is selected by the `document.getElementById()`
    method, and then we can use it as a background for the selected canvas.
  id: totrans-413
  prefs: []
  type: TYPE_NORMAL
  zh: 与Canvas的ID类似，图像ID是通过`document.getElementById()`方法选择的，然后我们可以将其用作所选画布的背景。
- en: The image used with the ID `canvas-bg` can be placed in a hidden `div` tag and
    later can be used as a background for any graph or chart, or any other graphic.
    One of the most practical applications of the text and image drawing on a canvas
    could be the customization of a product with label image and text over it.
  id: totrans-414
  prefs: []
  type: TYPE_NORMAL
  zh: 使用ID `canvas-bg`的图像可以放置在隐藏的`div`标签中，然后可以用作任何图形或图表的背景，或者任何其他图形的背景。在画布上绘制文本和图像的最实际的应用之一可能是使用标签图像和文本对产品进行定制。
- en: How it works...
  id: totrans-415
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: There are many places where Canvas may be implemented for regular web development
    practices. It can be used to generate real-time charts, product customization
    applications, or more complex or simple applications, depending on the requirement.
  id: totrans-416
  prefs: []
  type: TYPE_NORMAL
  zh: Canvas可以在许多常规网页开发实践中实现。它可以用于生成实时图表、产品定制应用程序，或者根据需求生成更复杂或更简单的应用程序。
- en: We know that Canvas is an HTML5 element and the key (for Canvas) always remains
    with the JavaScript used in it. We get support from all the browsers apart from
    IE8 or below.
  id: totrans-417
  prefs: []
  type: TYPE_NORMAL
  zh: 我们知道Canvas是HTML5元素，而Canvas的关键始终与其中使用的JavaScript相关。除了IE8或更低版本，我们得到了所有浏览器的支持。
- en: There's more...
  id: totrans-418
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: It always helps when a developer knows about the resources available at their
    disposal.
  id: totrans-419
  prefs: []
  type: TYPE_NORMAL
  zh: 当开发人员了解自己可以使用的资源时，总是很有帮助。
- en: Open source JS frameworks for Canvas
  id: totrans-420
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Canvas的开源JS框架
- en: There are many open source JavaScript frameworks and libraries available for
    easy development of the graphics with Canvas. A few noteworthy ones are **KineticJS**
    and **GoJS**. Another framework is **ThreeJS**, which uses WebGL and allows 3D
    rendering for your web graphics.
  id: totrans-421
  prefs: []
  type: TYPE_NORMAL
  zh: 有许多开源的JavaScript框架和库可用于使用Canvas轻松开发图形。一些值得注意的是**KineticJS**和**GoJS**。另一个框架是**ThreeJS**，它使用WebGL并允许在网页图形上进行3D渲染。
- en: CSS3 – beautiful yet powerful (Should know)
  id: totrans-422
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: CSS3-美丽而强大（应该知道）
- en: CSS3, with every new specification involved in this release, powers HTML5 in
    every step of the way. Just as the case was with cutting down code length and
    fewer server connections in HTML5, CSS3 takes the trend even further.
  id: totrans-423
  prefs: []
  type: TYPE_NORMAL
  zh: CSS3，在这个版本中涉及的每个新规范都在每一步中为HTML5提供动力。就像在HTML5中减少代码长度和减少服务器连接的情况一样，CSS3甚至进一步推动了这一趋势。
- en: This is achieved not by any fundamental changes in the existing coding practices,
    but with the introduction of some of the most commonly used styles as native properties,
    such as gradients, rounded corners, drop shadows, and external fonts.
  id: totrans-424
  prefs: []
  type: TYPE_NORMAL
  zh: 这不是通过对现有编码实践进行任何基本更改来实现的，而是通过引入一些最常用的样式作为本机属性，例如渐变、圆角、投影和外部字体。
- en: For each of the previously mentioned design styles or properties, designers
    used images, which caused multiple server connections and larger page sizes.
  id: totrans-425
  prefs: []
  type: TYPE_NORMAL
  zh: 对于先前提到的每种设计样式或属性，设计师使用了图像，这导致了多个服务器连接和更大的页面大小。
- en: Getting ready
  id: totrans-426
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: 'As a designer, it was a routine to use some of the basic design effects to
    achieve the impact your client or managers have requested. Have a look at your
    website and list down if the following properties can be seen on the web page:'
  id: totrans-427
  prefs: []
  type: TYPE_NORMAL
  zh: 作为设计师，使用一些基本的设计效果来实现客户或经理要求的影响是一种常规做法。看看你的网站，列出以下属性是否可以在网页上看到：
- en: '**Image-based text**: Used because the font may not be found in the visitors''
    device'
  id: totrans-428
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**基于图像的文本**：因为在访问者设备上可能找不到字体'
- en: '**Rounded corners for boxes**: Used to highlight a specific bit of information
    or buttons'
  id: totrans-429
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**盒子的圆角**：用于突出显示特定的信息或按钮'
- en: '**Drop shadow effect from Photoshop**: Used for the whole page or headings
    or specific sections of the content, including the navigation'
  id: totrans-430
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**来自Photoshop的投影效果**：用于整个页面或标题或内容的特定部分，包括导航'
- en: '**Gradient background**: Uses small (often 1px wide) PNG files to tile with
    CSS'
  id: totrans-431
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**渐变背景**：使用小的（通常为1像素宽）PNG文件与CSS平铺'
- en: '**Semi-transparent background tiles**: Used for a glossy effect for the whole
    web page on image backgrounds'
  id: totrans-432
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**半透明背景瓷砖**：用于整个网页的光泽效果，用于图像背景'
- en: '**Backgrounds**: Uses large image files'
  id: totrans-433
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**背景**：使用大图像文件'
- en: '**Hover animation effects**: Used for animation using JS or Flash'
  id: totrans-434
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**悬停动画效果**：用于使用JS或Flash进行动画'
- en: Now, ready with the list, let us see how we can do it with CSS and without using
    external images or JavaScript. All the things we are going to try here are supported
    by all the browsers in general (sometimes with a few hacks) and IE9 and above.
  id: totrans-435
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，准备好了列表，让我们看看如何在CSS中实现它，而不使用外部图像或JavaScript。这里我们要尝试的所有东西通常都受到所有浏览器的支持（有时需要一些技巧），并且IE9及以上版本也支持。
- en: How to do it…
  id: totrans-436
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做...
- en: As usual, IE8 or below may not support a few of these properties but the rest
    are good to go.
  id: totrans-437
  prefs: []
  type: TYPE_NORMAL
  zh: 像往常一样，IE8或更低版本可能不支持其中一些属性，但其余的都可以使用。
- en: External fonts
  id: totrans-438
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 外部字体
- en: The advantage of using external fonts is that now, without worrying about web-safe
    fonts, or in other words, fonts which can be found by default on visitors' computers,
    designers can be more creative without retreating to image-based text.
  id: totrans-439
  prefs: []
  type: TYPE_NORMAL
  zh: 使用外部字体的优势在于，现在设计师可以更有创意地设计，而不必担心网络安全字体，或者换句话说，访问者的计算机上默认可以找到的字体，而不必退回到基于图像的文本。
- en: There are two methods to integrate external fonts in CSS3.
  id: totrans-440
  prefs: []
  type: TYPE_NORMAL
  zh: 在CSS3中集成外部字体有两种方法。
- en: Local fonts
  id: totrans-441
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 本地字体
- en: Locally stored fonts are located on the server just like images or other script
    files, and are imported in the CSS file on load and later are used as font properties.
  id: totrans-442
  prefs: []
  type: TYPE_NORMAL
  zh: 本地存储的字体与图像或其他脚本文件一样位于服务器上，并在加载时在CSS文件中导入，然后用作字体属性。
- en: '[PRE56]'
  id: totrans-443
  prefs: []
  type: TYPE_PRE
  zh: '[PRE56]'
- en: 'Once defined, it can be used at various places as defined regularly:'
  id: totrans-444
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦定义，它可以像常规定义的那样在各个地方使用：
- en: '[PRE57]'
  id: totrans-445
  prefs: []
  type: TYPE_PRE
  zh: '[PRE57]'
- en: Web fonts
  id: totrans-446
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 网络字体
- en: Web fonts are imported from the repositories held at third-party servers. The
    **Google Webfonts library** is the best known resource for the job and can be
    accessed at [http://www.google.com/webfonts](http://www.google.com/webfonts).
  id: totrans-447
  prefs: []
  type: TYPE_NORMAL
  zh: 网络字体是从第三方服务器上的存储库导入的。**Google Webfonts库**是最知名的资源，可以在[http://www.google.com/webfonts](http://www.google.com/webfonts)上访问。
- en: 'The fonts can be integrated from external websites in different ways. You can
    integrate them in the web page by doing the following:'
  id: totrans-448
  prefs: []
  type: TYPE_NORMAL
  zh: 字体可以以不同的方式从外部网站集成。您可以通过以下方式将它们集成到网页中：
- en: '[PRE58]'
  id: totrans-449
  prefs: []
  type: TYPE_PRE
  zh: '[PRE58]'
- en: 'You can also import in a CSS file by applying the following code snippet:'
  id: totrans-450
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以通过应用以下代码片段将其导入到CSS文件中：
- en: '[PRE59]'
  id: totrans-451
  prefs: []
  type: TYPE_PRE
  zh: '[PRE59]'
- en: The call from the CSS file for the fonts remains the same as described in the
    local fonts section.
  id: totrans-452
  prefs: []
  type: TYPE_NORMAL
  zh: 对于字体的CSS文件调用与本地字体部分中描述的相同。
- en: Drop shadow
  id: totrans-453
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 投影
- en: Most managers and clients just love using drop shadows. It gives the design
    a little elevation and depth, which is needed sometimes.
  id: totrans-454
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数经理和客户都喜欢使用投影。有时需要为设计增加一点高度和深度。
- en: Most often used for navigation bars or for the whole container, the only way
    drop shadows were used before now was by using Photoshop-edited graphics.
  id: totrans-455
  prefs: []
  type: TYPE_NORMAL
  zh: 以前最常用于导航栏或整个容器，现在使用投影的唯一方法是使用Photoshop编辑的图形。
- en: There are two types of shadow options given in CSS3 specifications.
  id: totrans-456
  prefs: []
  type: TYPE_NORMAL
  zh: CSS3规范中给出了两种阴影选项。
- en: Box shadow
  id: totrans-457
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 盒子阴影
- en: Box shadow is used for block elements and works for the whole area and not for
    the specific text inside it.
  id: totrans-458
  prefs: []
  type: TYPE_NORMAL
  zh: 盒子阴影用于块元素，适用于整个区域，而不适用于其中的特定文本。
- en: '[PRE60]'
  id: totrans-459
  prefs: []
  type: TYPE_PRE
  zh: '[PRE60]'
- en: The four parameters are horizontal shadow, vertical shadow, and the fade or
    blur distance of the effect, and color of the shadow. Another parameter called
    `inset` can be used if an inner shadow is required in place of a drop shadow.
  id: totrans-460
  prefs: []
  type: TYPE_NORMAL
  zh: 四个参数是水平阴影，垂直阴影，效果的淡入淡出或模糊距离，以及阴影的颜色。如果需要内部阴影而不是投影，则可以使用另一个参数`inset`。
- en: 'When this property is called in as the ID property for a given DIV, here is
    what we get:'
  id: totrans-461
  prefs: []
  type: TYPE_NORMAL
  zh: 当此属性作为给定DIV的ID属性调用时，我们得到以下结果：
- en: '![Box shadow](img/5749OT_01_15.jpg)'
  id: totrans-462
  prefs: []
  type: TYPE_IMG
  zh: '![盒子阴影](img/5749OT_01_15.jpg)'
- en: Also notice the use of external fonts from the preceding example.
  id: totrans-463
  prefs: []
  type: TYPE_NORMAL
  zh: 还要注意前面示例中的外部字体的使用。
- en: Text shadow
  id: totrans-464
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 文本阴影
- en: The other shadow property's utility is clear by its name. Text shadow is used
    when we need to have a shadow for the text.
  id: totrans-465
  prefs: []
  type: TYPE_NORMAL
  zh: 其它阴影属性的实用性由其名称清楚。当我们需要为文本添加阴影时，使用文本阴影。
- en: '[PRE61]'
  id: totrans-466
  prefs: []
  type: TYPE_PRE
  zh: '[PRE61]'
- en: 'This will get us:'
  id: totrans-467
  prefs: []
  type: TYPE_NORMAL
  zh: 这将得到：
- en: '![Text shadow](img/5749OT_01_16.jpg)'
  id: totrans-468
  prefs: []
  type: TYPE_IMG
  zh: '![文本阴影](img/5749OT_01_16.jpg)'
- en: The text shadow property is not supported by any version of IE as of IE9.
  id: totrans-469
  prefs: []
  type: TYPE_NORMAL
  zh: 截至IE9，文本阴影属性不受任何IE版本支持。
- en: Rounded corners
  id: totrans-470
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 圆角
- en: Designers spend hours sorting out those four corners for any box design if it
    involves rounded corners. If they are present in multiple shapes or sizes, or
    even colors, the image directory often gets filled with these tiny images.
  id: totrans-471
  prefs: []
  type: TYPE_NORMAL
  zh: 如果涉及到圆角，设计师会花费数小时来整理那四个角。如果它们以多种形状或尺寸，甚至颜色存在，那么图像目录通常会被这些小图像填满。
- en: 'Not any more, says CSS3:'
  id: totrans-472
  prefs: []
  type: TYPE_NORMAL
  zh: CSS3说不再：
- en: '[PRE62]'
  id: totrans-473
  prefs: []
  type: TYPE_PRE
  zh: '[PRE62]'
- en: 'And here is what we get:'
  id: totrans-474
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是我们得到的结果：
- en: '![Rounded corners](img/5749OT_01_17.jpg)'
  id: totrans-475
  prefs: []
  type: TYPE_IMG
  zh: '![圆角](img/5749OT_01_17.jpg)'
- en: 'A little more adventure:'
  id: totrans-476
  prefs: []
  type: TYPE_NORMAL
  zh: 更多冒险：
- en: '[PRE63]'
  id: totrans-477
  prefs: []
  type: TYPE_PRE
  zh: '[PRE63]'
- en: '![Rounded corners](img/5749OT_01_18.jpg)'
  id: totrans-478
  prefs: []
  type: TYPE_IMG
  zh: '![圆角](img/5749OT_01_18.jpg)'
- en: Gradients
  id: totrans-479
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 渐变
- en: 'The following example is another image-oriented task simplified by CSS3 gradients.
    And here is how to do it:'
  id: totrans-480
  prefs: []
  type: TYPE_NORMAL
  zh: 以下示例是另一个由CSS3渐变简化的面向图像的任务。以下是如何做到这一点：
- en: '[PRE64]'
  id: totrans-481
  prefs: []
  type: TYPE_PRE
  zh: '[PRE64]'
- en: Looks tacky, doesn't it? So allow me to explain how this works.
  id: totrans-482
  prefs: []
  type: TYPE_NORMAL
  zh: 看起来很俗气，不是吗？所以请允许我解释一下这是如何工作的。
- en: 'The `gradient` property from CSS3 is supported by all browsers, but they do
    it by their own syntax. The general syntax is not supported by any of the browsers
    and it is definitely hilarious. Here is what W3C has proposed:'
  id: totrans-483
  prefs: []
  type: TYPE_NORMAL
  zh: 所有浏览器都支持CSS3的`gradient`属性，但它们使用自己的语法。通用语法不受任何浏览器支持，这绝对是滑稽的。以下是W3C提出的建议：
- en: '[PRE65]'
  id: totrans-484
  prefs: []
  type: TYPE_PRE
  zh: '[PRE65]'
- en: 'And here are the browser-specific CSS declarations:'
  id: totrans-485
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是特定于浏览器的CSS声明：
- en: '[PRE66]'
  id: totrans-486
  prefs: []
  type: TYPE_PRE
  zh: '[PRE66]'
- en: Among the three parameters in the preceding code snippet, the first one tells
    us the location of the linear gradient to start and the remaining two are the
    colors. Moreover, the `gradient` property can be controlled by various parameters.
    These include `radial-gradient`, `left top`, `left bottom` and so on.
  id: totrans-487
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的代码片段中的三个参数中，第一个告诉我们线性渐变的起始位置，其余两个是颜色。此外，`gradient`属性可以通过各种参数来控制。这些包括`radial-gradient`，`left
    top`，`left bottom`等等。
- en: Since the `gradient` property is only supported in IE10, definition of the fallback
    background colors or images, before the gradient property, is advisable.
  id: totrans-488
  prefs: []
  type: TYPE_NORMAL
  zh: 由于`gradient`属性仅在IE10中受支持，因此建议在`gradient`属性之前定义回退的背景颜色或图像。
- en: Opacity
  id: totrans-489
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 不透明度
- en: To give one block element, usually a DIV, some translucent background the `opacity`
    property from CSS3 is used. The common implementation comes for websites, which
    are designed with an image-based background.
  id: totrans-490
  prefs: []
  type: TYPE_NORMAL
  zh: 为了给一个块元素，通常是一个DIV，一些半透明的背景，使用了CSS3的`opacity`属性。常见的实现是为使用基于图像的背景设计的网站。
- en: 'The declaration of the property is quite simple and uses scales from `0` to
    `1` where `0` means completely transparent and `1` means opaque:'
  id: totrans-491
  prefs: []
  type: TYPE_NORMAL
  zh: 该属性的声明非常简单，使用从`0`到`1`的比例，其中`0`表示完全透明，`1`表示不透明：
- en: '[PRE67]'
  id: totrans-492
  prefs: []
  type: TYPE_PRE
  zh: '[PRE67]'
- en: 'Opacity is generally supported by all browsers including IE9 and above. For
    IE8 and below, the declaration varies as follows with a scale from `0` to `100`:'
  id: totrans-493
  prefs: []
  type: TYPE_NORMAL
  zh: 不透明度通常受到所有浏览器的支持，包括IE9及以上版本。对于IE8及更低版本，声明如下，范围从`0`到`100`：
- en: '[PRE68]'
  id: totrans-494
  prefs: []
  type: TYPE_PRE
  zh: '[PRE68]'
- en: Background sizing
  id: totrans-495
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 背景大小
- en: The background sizing property allows us to use an image in the background with
    scaling properties.
  id: totrans-496
  prefs: []
  type: TYPE_NORMAL
  zh: 背景大小属性允许我们使用具有缩放属性的图像作为背景。
- en: '[PRE69]'
  id: totrans-497
  prefs: []
  type: TYPE_PRE
  zh: '[PRE69]'
- en: This reduces the image file size used in the background to a considerable size.
  id: totrans-498
  prefs: []
  type: TYPE_NORMAL
  zh: 这减少了背景中使用的图像文件的大小。
- en: Columns
  id: totrans-499
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 列
- en: A very helpful property comes in the form of `columns`. This helps to break
    down the text in a newspaper format in a `DIV` tag.
  id: totrans-500
  prefs: []
  type: TYPE_NORMAL
  zh: 一个非常有用的属性以`columns`的形式出现。这有助于在`DIV`标签中以报纸格式分解文本。
- en: '[PRE70]'
  id: totrans-501
  prefs: []
  type: TYPE_PRE
  zh: '[PRE70]'
- en: This is one of my personal beloved properties in CSS3, but unfortunately doesn't
    come with any IE support. This should not discourage you from using it, as it
    will make any visitor from other good browsers pretty pleased with the easy-to-read
    text.
  id: totrans-502
  prefs: []
  type: TYPE_NORMAL
  zh: 这是我在CSS3中最喜欢的属性之一，但不幸的是没有IE支持。这不应该阻止您使用它，因为它将使其他好浏览器的访问者对易于阅读的文本感到满意。
- en: Transition
  id: totrans-503
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 过渡
- en: Rollover effects from CSS3 come in the form of the transition property.
  id: totrans-504
  prefs: []
  type: TYPE_NORMAL
  zh: 来自CSS3的鼠标悬停效果以过渡属性的形式出现。
- en: '[PRE71]'
  id: totrans-505
  prefs: []
  type: TYPE_PRE
  zh: '[PRE71]'
- en: As it is clear by the two parameters passed in the `transition` property, `height`
    and `2s` are direction and time in seconds respectively. Transition can be applied
    with `width` as a parameter of choice.
  id: totrans-506
  prefs: []
  type: TYPE_NORMAL
  zh: 如`transition`属性中传递的两个参数所示，`height`和`2s`分别是方向和秒数。过渡可以应用于`width`作为选择的参数。
- en: 'The hover for the given `DIV` element is defined to trigger the transformation.
    The call to the given `DIV` is simple:'
  id: totrans-507
  prefs: []
  type: TYPE_NORMAL
  zh: 给定的`DIV`元素的悬停被定义为触发转换。调用给定的`DIV`很简单：
- en: '[PRE72]'
  id: totrans-508
  prefs: []
  type: TYPE_PRE
  zh: '[PRE72]'
- en: This is another non-IE property but an excellent one to try out.
  id: totrans-509
  prefs: []
  type: TYPE_NORMAL
  zh: 这是另一个非IE属性，但是一个很好的尝试。
- en: There's more...
  id: totrans-510
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: There are a lot of other new properties in the CSS3 specifications, which are
    powerful and diverse in their applications.
  id: totrans-511
  prefs: []
  type: TYPE_NORMAL
  zh: CSS3规范中还有许多其他新属性，它们在应用中功能强大且多样化。
- en: A few more properties
  id: totrans-512
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 一些更多的属性
- en: 'Here are a few more properties from CSS3 for you to try:'
  id: totrans-513
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是CSS3中的一些更多属性供您尝试：
- en: '| `Box-sizing` | `Font-stretch` |'
  id: totrans-514
  prefs: []
  type: TYPE_TB
  zh: '| `盒子尺寸` | `字体拉伸` |'
- en: '| `Rotation` | `Word-break` |'
  id: totrans-515
  prefs: []
  type: TYPE_TB
  zh: '| `旋转` | `断词` |'
- en: '| `Box-align` | `Word-wrap` |'
  id: totrans-516
  prefs: []
  type: TYPE_TB
  zh: '| `盒子对齐` | `单词换行` |'
- en: '| `Box-pack` | `Transform` |'
  id: totrans-517
  prefs: []
  type: TYPE_TB
  zh: '| `盒装` | `变换` |'
- en: '| `Content` | `Nav-index` |'
  id: totrans-518
  prefs: []
  type: TYPE_TB
  zh: '| `内容` | `导航索引` |'
- en: Data – smart websites (Become an expert)
  id: totrans-519
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 数据 - 智能网站（成为专家）
- en: The most advanced features of HTML5 are about the data. Now, we can develop
    web-based applications with locally stored files and database on the user's computer.
    These files can later be accessed without any active Internet connection if there
    is a data communication between two or more visitors and you do not wish to engage
    into heavy server traffic.
  id: totrans-520
  prefs: []
  type: TYPE_NORMAL
  zh: HTML5最先进的功能是关于数据。现在，我们可以开发基于Web的应用程序，使用用户计算机上的本地存储文件和数据库。如果两个或更多访问者之间有数据通信，并且您不希望参与大量服务器流量，这些文件以后可以在没有任何活动互联网连接的情况下访问。
- en: Offline storage becomes important if we are developing heavy applications for
    users who are on the move or may not have consistent Internet coverage, and we
    want to maintain a seamless experience for the visitors.
  id: totrans-521
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们为那些在移动中或可能没有一致的互联网覆盖范围的用户开发重型应用程序，并且我们希望为访问者保持无缝体验，离线存储变得很重要。
- en: '**WebSockets** allow visitors to have a communication channel of their own
    on the web page.'
  id: totrans-522
  prefs: []
  type: TYPE_NORMAL
  zh: '**WebSockets**允许访问者在网页上拥有自己的通信渠道。'
- en: Getting ready
  id: totrans-523
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备好
- en: Often, the local storage is used for either mobile-based websites or applications
    involving big chunks of data. To give the visitor quick access to what they are
    looking for, it becomes a clever idea to hold the data in a local storage of the
    computer or mobile device till it is requested.
  id: totrans-524
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，本地存储用于移动网站或涉及大量数据的应用程序。为了让访问者快速获取他们想要的内容，将数据保存在计算机或移动设备的本地存储中直到被请求是一个聪明的主意。
- en: Google Docs and offline Gmail are two of the many web applications we use on
    an everyday basis. On the mobile platform, compiled HTML5 apps using tools such
    as PhoneGap ([http://phonegap.com/](http://phonegap.com/)) strongly use local
    storage.
  id: totrans-525
  prefs: []
  type: TYPE_NORMAL
  zh: Google Docs和离线Gmail是我们每天使用的许多Web应用程序中的两个。在移动平台上，使用诸如PhoneGap（[http://phonegap.com/](http://phonegap.com/)）之类的工具编译的HTML5应用程序强烈使用本地存储。
- en: WebSockets can be found often on the websites of live sports broadcast where
    visitors can discuss the live events together, or on the tech support websites
    where the visitors can join in a one-on-one discussion with a representative of
    the company.
  id: totrans-526
  prefs: []
  type: TYPE_NORMAL
  zh: WebSockets经常出现在现场体育广播网站上，访问者可以一起讨论现场事件，或者在技术支持网站上，访问者可以与公司代表进行一对一讨论。
- en: How to do it…
  id: totrans-527
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做…
- en: Let's have a look at the local storage first and then WebSockets.
  id: totrans-528
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们先看看本地存储，然后是WebSockets。
- en: Local storage
  id: totrans-529
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 本地存储
- en: Now, we have a website or application, which we want to preload and locally
    store for the visitor, to be accessed later or while browsing if the Internet
    connection becomes unstable.
  id: totrans-530
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们有一个网站或应用程序，我们希望为访问者预加载并本地存储，以便稍后访问或在浏览时，如果互联网连接变得不稳定。
- en: The first thing to remember is the default limit of local storage from HTML5
    is 5 MB for mobile devices. If the cached data size exceeds that limit, the visitors
    will get a message asking them to increase the size of the local storage on their
    device.
  id: totrans-531
  prefs: []
  type: TYPE_NORMAL
  zh: 首先要记住的是，HTML5的本地存储的默认限制是移动设备的5MB。如果缓存数据大小超过该限制，访问者将收到一条消息，要求他们增加设备上的本地存储大小。
- en: If users accept the notification, the application resumes as intended. Otherwise,
    the local storage does not cache at all.
  id: totrans-532
  prefs: []
  type: TYPE_NORMAL
  zh: 如果用户接受通知，应用程序将按预期恢复。否则，本地存储根本不会缓存。
- en: The second thing to remember is that all the files or data asked to be cached
    must be available on the server. The caching takes place on the *everything or
    nothing* principle.
  id: totrans-533
  prefs: []
  type: TYPE_NORMAL
  zh: 第二件要记住的事情是，要缓存的所有文件或数据必须在服务器上可用。缓存遵循“一切或无”的原则。
- en: Appcache
  id: totrans-534
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: Appcache
- en: 'Meet **appcache**, the document type which will tell the browser about all
    the web pages or resources you wish to store locally. With the extension of `.appcache`,
    this file holds the manifest of local storage. Here is how you can call the `.appcache`
    file on the web page:'
  id: totrans-535
  prefs: []
  type: TYPE_NORMAL
  zh: 遇见**appcache**，这种文档类型将告诉浏览器你希望本地存储的所有网页或资源。使用`.appcache`扩展名，这个文件保存本地存储的清单。以下是如何在网页上调用`.appcache`文件：
- en: '[PRE73]'
  id: totrans-536
  prefs: []
  type: TYPE_PRE
  zh: '[PRE73]'
- en: Easy to understand, the syntax is added to the HTML attribute of the web page
    with an element called `manifest` and here, in a file named `offline.appcache`.
    The `manifest` must be declared in all the web pages you wish to cache locally.
  id: totrans-537
  prefs: []
  type: TYPE_NORMAL
  zh: 易于理解，语法添加到网页的HTML属性中，使用名为`manifest`的元素，在名为`offline.appcache`的文件中。`manifest`必须在希望在本地缓存的所有网页中声明。
- en: The .htaccess file
  id: totrans-538
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '`.htaccess`文件'
- en: To declare appcache as a new file/MIME type for the server, we need to declare
    it in the `.htaccess` file *before* trying to cache any data from the server.
  id: totrans-539
  prefs: []
  type: TYPE_NORMAL
  zh: 要将appcache声明为服务器的新文件/MIME类型，我们需要在尝试从服务器缓存任何数据之前在`.htaccess`文件中声明它。
- en: 'Here is what we need to add in the `.htaccess` file on the server:'
  id: totrans-540
  prefs: []
  type: TYPE_NORMAL
  zh: 这是我们需要在服务器上的`.htaccess`文件中添加的内容：
- en: '[PRE74]'
  id: totrans-541
  prefs: []
  type: TYPE_PRE
  zh: '[PRE74]'
- en: The cache manifest
  id: totrans-542
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 缓存清单
- en: 'The valid `.appcache` file can be as small as the primary syntax declaration:'
  id: totrans-543
  prefs: []
  type: TYPE_NORMAL
  zh: 有效的`.appcache`文件可以尽可能小，只包含主要的语法声明：
- en: '[PRE75]'
  id: totrans-544
  prefs: []
  type: TYPE_PRE
  zh: '[PRE75]'
- en: 'The preceding syntax is essential for every manifest file. Comments in the
    cache manifest can be declared with a `#` prefix:'
  id: totrans-545
  prefs: []
  type: TYPE_NORMAL
  zh: 前面的语法对于每个清单文件都是必不可少的。在缓存清单中，可以使用`#`前缀声明注释：
- en: '[PRE76]'
  id: totrans-546
  prefs: []
  type: TYPE_PRE
  zh: '[PRE76]'
- en: 'Every cache manifest has three sections which are listed as follows:'
  id: totrans-547
  prefs: []
  type: TYPE_NORMAL
  zh: 每个缓存清单都有三个部分，如下所示：
- en: '`CACHE`: This is a list of exact URLs to request and store locally'
  id: totrans-548
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`CACHE`：这是一个确切的URL列表，用于请求和本地存储'
- en: '`FALLBACK`: These are the files to display when an offline user attempts to
    access an uncached file'
  id: totrans-549
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`FALLBACK`：这些是离线用户尝试访问未缓存文件时显示的文件'
- en: '`NETWORK`: These are the resources that are available only while a user is
    online'
  id: totrans-550
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`NETWORK`：这些资源仅在用户在线时可用'
- en: 'Here is an example of a cache manifest file:'
  id: totrans-551
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个缓存清单文件的示例：
- en: '[PRE77]'
  id: totrans-552
  prefs: []
  type: TYPE_PRE
  zh: '[PRE77]'
- en: The `CACHE` is the default property of the cache manifest file. If we are not
    using the other sections, a simple list of files will make sure that it falls
    under the `CACHE` section.
  id: totrans-553
  prefs: []
  type: TYPE_NORMAL
  zh: '`CACHE`是缓存清单文件的默认属性。如果我们不使用其他部分，简单的文件列表将确保它属于`CACHE`部分。'
- en: The file URLs can be relative or absolute, based on the complexity of the site
    structure. Any file type, including images, scripts, styles, and HTML documents
    can be cached in the local storage.
  id: totrans-554
  prefs: []
  type: TYPE_NORMAL
  zh: 文件的URL可以是相对的或绝对的，这取决于网站结构的复杂性。任何文件类型，包括图像、脚本、样式和HTML文档都可以被缓存在本地存储中。
- en: The `FALLBACK` section defines the default properties if an uncached resource
    is called. It can be done in different ways as demonstrated in the preceding example,
    such as direct filename fallback, a common sitewide fallback, or a folder or directory-based
    fallback for specific file types.
  id: totrans-555
  prefs: []
  type: TYPE_NORMAL
  zh: '`FALLBACK`部分定义了未缓存资源被调用时的默认属性。可以以不同的方式进行，如在前面的示例中所示，直接文件名回退、常见的站点范围回退，或者基于特定文件类型的文件夹或目录回退。'
- en: The `NETWORK` section dictates the list of resources exclusively available when
    online. The `*` means that the rest of the website, which is not mentioned in
    the `CACHE` section, will need an Internet or network connection.
  id: totrans-556
  prefs: []
  type: TYPE_NORMAL
  zh: '`NETWORK`部分规定了仅在线时可用的资源列表。`*`表示网站的其余部分，如果没有在`CACHE`部分中提到，将需要互联网或网络连接。'
- en: As mentioned before, everything mentioned in the manifest to be cached, must
    be available on the server at the time the website is visited with an Internet
    connection, to be stored locally. It will either cache everything specified in
    the manifest or nothing at all.
  id: totrans-557
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，清单中提到要缓存的所有内容，在网站被访问时必须在服务器上以互联网连接的方式可用，以便本地存储。它要么缓存清单中指定的所有内容，要么不缓存任何内容。
- en: To see the cached files on Chrome, type in `chrome://appcache-internals` in
    the address bar.
  id: totrans-558
  prefs: []
  type: TYPE_NORMAL
  zh: 要查看Chrome上的缓存文件，请在地址栏中键入`chrome://appcache-internals`。
- en: WebSocket
  id: totrans-559
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: WebSocket
- en: WebSocket is used for two-way communication over a single socket using TCP.
    Presently, it is still being standardized by the W3C; but, the latest versions
    of Chrome and Safari have support for WebSocket.
  id: totrans-560
  prefs: []
  type: TYPE_NORMAL
  zh: WebSocket用于使用TCP在单个套接字上进行双向通信。目前，它仍在W3C标准化中；但是，最新版本的Chrome和Safari支持WebSocket。
- en: 'WebSocket is not just a standalone HTML5 feature. In order to use sockets,
    JavaScript services (generally written with `Node.js`) are used. A basic declaration
    for a socket is:'
  id: totrans-561
  prefs: []
  type: TYPE_NORMAL
  zh: WebSocket不仅仅是一个独立的HTML5功能。为了使用套接字，通常使用JavaScript服务（通常使用`Node.js`编写）。
- en: '[PRE78]'
  id: totrans-562
  prefs: []
  type: TYPE_PRE
  zh: '[PRE78]'
- en: 'To check if your browser supports sockets, run the following script:'
  id: totrans-563
  prefs: []
  type: TYPE_NORMAL
  zh: 要检查浏览器是否支持套接字，请运行以下脚本：
- en: '[PRE79]'
  id: totrans-564
  prefs: []
  type: TYPE_PRE
  zh: '[PRE79]'
- en: In the event of support availability, we can declare the socket events. The
    events for a WebSocket include `open`, `close`, `error`, and `message`. The event
    handlers for each of these events sum up the complete communication between sockets.
  id: totrans-565
  prefs: []
  type: TYPE_NORMAL
  zh: 在支持可用性的情况下，我们可以声明套接字事件。WebSocket的事件包括`open`、`close`、`error`和`message`。每个事件的事件处理程序总结了套接字之间的完整通信。
- en: '| Event | Handler | Description |'
  id: totrans-566
  prefs: []
  type: TYPE_TB
  zh: '| 事件 | 处理程序 | 描述 |'
- en: '| --- | --- | --- |'
  id: totrans-567
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| `Open` | `Ws.onopen` | When socket connection is established |'
  id: totrans-568
  prefs: []
  type: TYPE_TB
  zh: '| `Open` | `Ws.onopen` | 当套接字连接建立时 |'
- en: '| `message` | `Ws.onmessage` | When client receives data from server |'
  id: totrans-569
  prefs: []
  type: TYPE_TB
  zh: '| `message` | `Ws.onmessage` | 当客户端从服务器接收数据时 |'
- en: '| `error` | `Ws.onerror` | When there is an error in communication |'
  id: totrans-570
  prefs: []
  type: TYPE_TB
  zh: '| `error` | `Ws.onerror` | 通信出现错误时 |'
- en: '| `close` | `Ws.onclose` | When connection is closed |'
  id: totrans-571
  prefs: []
  type: TYPE_TB
  zh: '| `close` | `Ws.onclose` | 当连接关闭时 |'
- en: The declaration is based on `Ws`, which is the variable name chosen to declare
    WebSocket in the example. The WebSocket has two associated methods called `Ws.send()`
    and `Ws.close()`.
  id: totrans-572
  prefs: []
  type: TYPE_NORMAL
  zh: 声明基于`Ws`，这是在示例中选择声明WebSocket的变量名。WebSocket有两个关联的方法，称为`Ws.send()`和`Ws.close()`。
- en: The `send()` method is used to transmit data using the connection. The `close()`
    method would be used to terminate any existing connection.
  id: totrans-573
  prefs: []
  type: TYPE_NORMAL
  zh: '`send()`方法用于使用连接传输数据。`close()`方法用于终止任何现有连接。'
- en: 'Here is a complete example in the previously mentioned context:'
  id: totrans-574
  prefs: []
  type: TYPE_NORMAL
  zh: 这是先前提到的上下文中的完整示例：
- en: '[PRE80]'
  id: totrans-575
  prefs: []
  type: TYPE_PRE
  zh: '[PRE80]'
- en: 'Now call the script in the body:'
  id: totrans-576
  prefs: []
  type: TYPE_NORMAL
  zh: 现在在body中调用脚本：
- en: '[PRE81]'
  id: totrans-577
  prefs: []
  type: TYPE_PRE
  zh: '[PRE81]'
- en: How it works…
  id: totrans-578
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理…
- en: WebSockets work on server-based configurations, which work on TCP and can be
    configured on your localhost WAMP or XAMPP or Apache web servers. Once initiated,
    the protocol hands over the control to the browser for a specific session time,
    which allows the visitors to establish a data connection.
  id: totrans-579
  prefs: []
  type: TYPE_NORMAL
  zh: WebSockets在基于服务器的配置上运行，可以在您的本地主机WAMP或XAMPP或Apache Web服务器上进行配置。一旦启动，协议就会将控制权交给浏览器，以便在特定会话时间内允许访问者建立数据连接。
- en: The local storage copies all the files mentioned in the `.appcache` file until
    it is updated. A minor edit in a comment is enough to trigger a fresh reload of
    the data cached on the browser.
  id: totrans-580
  prefs: []
  type: TYPE_NORMAL
  zh: 本地存储会复制`.appcache`文件中提到的所有文件，直到它被更新。在评论中进行微小的编辑就足以触发浏览器缓存数据的刷新。
- en: There's more...
  id: totrans-581
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: Imagination always plays a big role in the adaptation of a new technology. There
    is a lot of support and there are many creative developers willing to show off
    what they can do with this new powerful technology!
  id: totrans-582
  prefs: []
  type: TYPE_NORMAL
  zh: 想象力在新技术的适应中总是扮演着重要角色。有很多支持和许多有创意的开发人员愿意展示他们可以用这种新的强大技术做些什么！
- en: Sockets in action
  id: totrans-583
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 套接字的作用
- en: There are several examples of WebSockets that can be seen around the Internet,
    but due to lack of proper browser support, it is still in its teething stages.
    The best WebSocket chat example can be seen at [http://html5demos.com/web-socket](http://html5demos.com/web-socket).
  id: totrans-584
  prefs: []
  type: TYPE_NORMAL
  zh: 有几个WebSockets的例子可以在互联网上看到，但由于缺乏适当的浏览器支持，它仍处于起步阶段。最好的WebSocket聊天示例可以在[http://html5demos.com/web-socket](http://html5demos.com/web-socket)上看到。
- en: The transferrable Web (Must know)
  id: totrans-585
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 可传输的Web（必须了解）
- en: We tried to keep the focus of topics in this book on how you can migrate the
    code of the website, without changing any visual appearance, from previous versions
    of HTML or XHTML to HTML5.
  id: totrans-586
  prefs: []
  type: TYPE_NORMAL
  zh: 我们试图将本书的重点放在如何将网站的代码从以前的HTML或XHTML版本迁移到HTML5，而不改变任何视觉外观上。
- en: Looking closely, the principal structure for a given web page in HTML5 is similar
    to others in terms of the primary elements. Web pages can be maintained with a
    better consistency and quality by developers who did not write them originally.
  id: totrans-587
  prefs: []
  type: TYPE_NORMAL
  zh: 仔细观察，HTML5中给定网页的主要结构在主要元素方面与其他网页相似。那些原本没有编写它们的开发人员可以更好地保持网页的一致性和质量。
- en: Results
  id: totrans-588
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 结果
- en: Now we know that using common element names such as header, footer, section,
    and article makes it easier for machines to render the relevant information when
    needed. This makes communication and readability of the code a lot easier.
  id: totrans-589
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们知道，使用诸如header、footer、section和article之类的常见元素名称使得机器在需要时更容易呈现相关信息。这使得代码的沟通和可读性变得更加容易。
- en: It becomes easier to document the properties of semantically correct elements
    in a longer practice and later to maintain them.
  id: totrans-590
  prefs: []
  type: TYPE_NORMAL
  zh: 在长期实践中更容易记录语义正确元素的属性，以后更容易维护它们。
- en: Gradient, rounded corners, and drop shadows can be generated in the browsers,
    without going back to the server and asking it for image files to display.
  id: totrans-591
  prefs: []
  type: TYPE_NORMAL
  zh: 渐变、圆角和阴影可以在浏览器中生成，而无需返回服务器并要求显示图像文件。
- en: External fonts allow the designers to consider using text for big graphics-based
    text, reducing further file size and network time for the browsers.
  id: totrans-592
  prefs: []
  type: TYPE_NORMAL
  zh: 外部字体允许设计人员考虑使用文本来替代基于大型图形的文本，从而减少浏览器的文件大小和网络时间。
- en: Local storage and web sockets allows for offline browsing and a peer-to-peer
    communication channel without putting any real load on to the server.
  id: totrans-593
  prefs: []
  type: TYPE_NORMAL
  zh: 本地存储和Web套接字允许离线浏览和对等通信通道，而不会给服务器带来任何真正的负载。
- en: All this and more is possible because you as a developer or designer wanted
    it to be. The faster we adopt HTML5, the better the Internet and the browsers
    will be.
  id: totrans-594
  prefs: []
  type: TYPE_NORMAL
  zh: 所有这些以及更多都是可能的，因为您作为开发人员或设计师希望它成为可能。我们越快采用HTML5，互联网和浏览器就会变得越好。
- en: Future scalabilities
  id: totrans-595
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 未来的可扩展性
- en: HTML5 specifications are still being written. The delay in the official announcement
    of completion has led the two responsible groups, **Web Hypertext Application
    Technology Working Group** (**WHATWG**) and W3C to define the specifications in
    two separate versions.
  id: totrans-596
  prefs: []
  type: TYPE_NORMAL
  zh: HTML5规范仍在编写中。官方宣布完成的延迟导致了两个负责的组织，**Web超文本应用技术工作组**（WHATWG）和W3C将规范定义为两个单独的版本。
- en: W3C's **Snapshot** and WHATWG's **Living Standard** will be two separate HTML5
    versions available for the developers. On the one hand, Snapshot will be more
    defined and bound by rules as a benchmark, while Living Standard from WHATWG on
    the other hand, will follow the approach of fixing bugs and adding features as
    we find or develop them.
  id: totrans-597
  prefs: []
  type: TYPE_NORMAL
  zh: W3C的**快照**和WHATWG的**活动标准**将成为开发人员可以使用的两个不同的HTML5版本。一方面，快照将更加明确定义并受规则约束作为基准，而另一方面，WHATWG的活动标准将遵循修复错误和在发现或开发它们时添加功能的方法。
- en: In simpler terms, WHATWG has decided that there will be no HTML6 and the entirety
    of HTML5 will be referred to as just HTML in due course.
  id: totrans-598
  prefs: []
  type: TYPE_NORMAL
  zh: 简单来说，WHATWG已经决定不会有HTML6，HTML5的全部内容将在适当的时候被称为HTML。
- en: New tags and adaptation of features will be left to the developer community
    and browser vendors. It is expected that the ongoing updates will keep the vendors
    on the edge and will ensure a healthy competition.
  id: totrans-599
  prefs: []
  type: TYPE_NORMAL
  zh: 新标签和功能的适应将留给开发人员社区和浏览器供应商。预计持续的更新将使供应商保持竞争优势，并确保健康的竞争。
- en: There's more...
  id: totrans-600
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: A few more tags
  id: totrans-601
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 还有一些标签
- en: Here are a few new tags from HTML5, which you might like to explore in due course.
    Compatibility issues aside, these new tags are good enough to make your imagination
    fly.
  id: totrans-602
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是一些HTML5中的新标签，您可能希望在适当的时候进行探索。除了兼容性问题，这些新标签足以让您的想象力飞翔。
- en: '`<progress>`: This represents the progress of a task'
  id: totrans-603
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`<progress>`：这代表了任务的进展'
- en: '`<meter>`: This defines a scalar measurement within a known range (a gauge)'
  id: totrans-604
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`<meter>`：这定义了已知范围内的标量测量（一个表）'
- en: '`<command>`: This defines a command button that a user can invoke'
  id: totrans-605
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`<command>`：这定义了用户可以调用的命令按钮'
- en: '`<mark>`: This defines marked/highlighted text'
  id: totrans-606
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`<mark>`：这定义了标记/高亮文本'
- en: '`<wbr>`: This defines a possible line break'
  id: totrans-607
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`<wbr>`：这定义了可能的换行'
- en: '`<bdi>`: This isolates a part of text that might be formatted in a different
    direction'
  id: totrans-608
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`<bdi>`: 这隔离了可能以不同方向格式化的文本的一部分'
- en: '`<details>`: This defines additional details that the user can view or hide'
  id: totrans-609
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`<details>`: 这定义了用户可以查看或隐藏的附加细节'
- en: '`<summary>`: This defines a visible heading for a `<details>` element'
  id: totrans-610
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`<summary>`: 这为`<details>`元素定义了一个可见的标题'
- en: '`<keygen>`: This defines a key-pair generator field (for forms)'
  id: totrans-611
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`<keygen>`: 这定义了一个密钥对生成器字段（用于表单）'
- en: '`<datalist>`: This specifies a list of predefined options for input controls'
  id: totrans-612
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`<datalist>`: 这指定了输入控件的预定义选项列表'
- en: '`<output>`: This defines the result of a calculation'
  id: totrans-613
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`<output>`: 这定义了计算的结果'
- en: 'In addition to the other new elements, some of the obsolete elements are removed
    from the HTML5 specifications; they are as follows:'
  id: totrans-614
  prefs: []
  type: TYPE_NORMAL
  zh: 除了其他新元素之外，一些过时的元素也从HTML5规范中删除了；它们如下：
- en: '| `<acronym>` | `<applet>` | `<basefont>` |'
  id: totrans-615
  prefs: []
  type: TYPE_TB
  zh: '| `<acronym>` | `<applet>` | `<basefont>` |'
- en: '| `<big>` | `<center>` | `<dir>` |'
  id: totrans-616
  prefs: []
  type: TYPE_TB
  zh: '| `<big>` | `<center>` | `<dir>` |'
- en: '| `<font>` | `<frame>` | `<frameset>` |'
  id: totrans-617
  prefs: []
  type: TYPE_TB
  zh: '| `<font>` | `<frame>` | `<frameset>` |'
- en: '| `<noframes>` | `<strike>` | `<tt>` |'
  id: totrans-618
  prefs: []
  type: TYPE_TB
  zh: '| `<noframes>` | `<strike>` | `<tt>` |'
- en: Cool stuff to try
  id: totrans-619
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 尝试的酷东西
- en: A wide variety of frameworks and standard scripts are launched by many open
    source communities based on HTML5\. PhoneGap, for one, allows developers to input
    an HTML5-CSS3-JS website and converts it into a mobile app.
  id: totrans-620
  prefs: []
  type: TYPE_NORMAL
  zh: 许多基于HTML5的开源社区推出了各种框架和标准脚本。例如，PhoneGap允许开发人员输入一个HTML5-CSS3-JS网站，并将其转换为移动应用程序。
- en: The mobile specific version of jQuery named **jQuery Mobile** is completely
    in sync with HTML5 and CSS3, which gives it a semantic approach for the core framework.
  id: totrans-621
  prefs: []
  type: TYPE_NORMAL
  zh: 名为**jQuery Mobile**的移动特定版本完全与HTML5和CSS3同步，这使得它对核心框架具有语义化的方法。
- en: Many interactive web-based games and Adobe Flash's HTML5 export plugins prove
    that the future for the `canvas` tag is bright.
  id: totrans-622
  prefs: []
  type: TYPE_NORMAL
  zh: 许多互动式基于Web的游戏和Adobe Flash的HTML5导出插件证明了`canvas`标签的未来光明。
- en: All the browser vendors, in order to show off the capabilities of their representative
    products, have developed HTML5 galleries. These galleries ([http://www.chromeexperiments.com/](http://www.chromeexperiments.com/)
    for Google Chrome and [https://developer.mozilla.org/en-US/demos/tag/tech:html5](https://developer.mozilla.org/en-US/demos/tag/tech:html5)
    for Firefox) provide an excellent guide in measuring the true caliber and stretched
    limits of HTML5.
  id: totrans-623
  prefs: []
  type: TYPE_NORMAL
  zh: 为了展示各自产品的能力，所有浏览器供应商都开发了HTML5画廊。这些画廊（[http://www.chromeexperiments.com/](http://www.chromeexperiments.com/)
    适用于Google Chrome和[https://developer.mozilla.org/en-US/demos/tag/tech:html5](https://developer.mozilla.org/en-US/demos/tag/tech:html5)
    适用于Firefox）提供了一个优秀的指南，以衡量HTML5的真正能力和极限。
- en: So just get on and move to the next best thing on the websphere. *Move* to HTML5.
  id: totrans-624
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，赶紧转向网络空间上的下一个最好的东西。*转向* HTML5。
