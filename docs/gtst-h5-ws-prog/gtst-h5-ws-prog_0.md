# 前言

WebSocket 协议是 HTML5 世界中握手的艺术。它定义了服务器和客户端之间的双向通信，从而使 Web 应用程序更加流畅、更快速、更高效。本书将指导您完成创建现代 Web 应用程序的整个过程，充分利用 WebSocket 的功能。您将逐步学习如何配置客户端和服务器、传输文本和多媒体、添加安全层，并为旧版浏览器提供回退。此外，您将了解这些技术如何在本机移动和平板客户端中运行，释放 HTML5 WebSocket 协议的全部功能。

# 本书涵盖内容

第一章, *WebSocket-握手!*, 简要而紧凑地介绍了 WebSocket 协议，指定了 Web 中双向通信的需求，并展示了一些鼓舞人心的现实世界示例。

第二章, *WebSocket API*, 突出了 WebSocket API 的基本概念，并演示了一个 WebSocket Web 客户端应用程序。

第三章, *服务器配置*, 实现了服务器端功能，这对于有效实现真正的双向通信至关重要。

第四章, *数据传输-发送、接收和解码*, 展示了 WebSocket 如何处理文本、图像和多媒体等不同数据类型。

第五章, *安全*, 检查了运行 WebSocket 应用程序时的一些常见安全风险，并提供了确保系统稳定性的方法。

第六章, *错误处理和回退*, 回答了当出现问题时该怎么办，以及在处理旧版浏览器时如何模拟 WebSocket 行为。

第七章, *移动端（以及平板电脑）*, 将 WebSocket 功能扩展到移动世界，并展示了 WebSocket 应用程序如何在 iPhone 或 iPad 上本地运行。

附录, 提供了一些进一步的资源，包括有趣和有争议的文章。

# 本书所需内容

要充分利用本书，您需要一个现代的 Web 浏览器和一个文本编辑器。为了让生活更轻松，以下是一些软件要求，可以帮助您构建和调试 WebSocket 应用程序：

+   最新版本的 Google Chrome、Internet Explorer、Mozilla Firefox 或 Opera，包括它们的开发者工具

+   诸如 Aptana 或 WebMatrix 之类的文本编辑器

考虑到服务器端的例子，如果您选择使用我们的 C#代码，您需要：

+   .NET Framework 3.5 或更高版本

+   Visual Studio 2010 或更高版本

最后，考虑到移动和平板电脑的例子，如果您选择在 iOS 上部署，您需要：

+   Mac OS X 10.7 或更高版本

+   XCode 4.5 或更高版本

+   苹果开发者许可证

随意选择您喜欢的服务器端、移动和平板电脑技术。无论使用哪种工具和 SDK，主要的方法和技术都是相同的。

# 本书适合对象

本书适用于对开发现代 Web 应用程序感兴趣的专业软件开发人员、研究人员和学生。需要掌握 HTML、JavaScript 和至少一种服务器端技术的基本知识。如果您想充分利用移动和平板电脑章节，对任何移动平台的良好了解将是一个加分项。本书旨在指导您了解 WebSocket 编程的原则和基础知识，以便您可以将这些知识应用到您擅长的每个平台上。

# 约定

在本书中，您会发现一些文本样式，用于区分不同类型的信息。以下是一些样式的示例，以及它们的含义解释。

文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 用户名显示如下："您可能已经注意到，我们在这个演示中使用`echo.websocket.org`服务器"。

一段代码设置如下：

```js
h1 {
  color: blue;
  text-align: center;
  font-family: "Helvetica Neue", Arial, Sans-Serif;
  font-size: 1em;
}
```

**新术语**和**重要单词**以粗体显示。您在屏幕上看到的单词，比如菜单或对话框中的单词，会在文本中显示为："在**解决方案资源管理器**选项卡上，右键单击**引用**图标，然后选择**添加新引用**"。

### 注意

警告或重要提示会出现在这样的框中。

### 提示

提示和技巧会显示如下。
