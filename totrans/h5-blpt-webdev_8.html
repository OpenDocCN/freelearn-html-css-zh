<html><head></head><body><div><div><div><div><h1 class="title"><a id="appA"/>Appendix A. You Are an Expert,Now What?</h1></div></div></div><p>We are all set with our website. We have learned how to write its code, build it with the build scripts and deploy it to the production code, so that it goes live without any hiccups. You are effectively done learning HTML5 Boilerplate. If you are curious in becoming a better web developer, you could spend time understanding some other relevant and useful parts of the Web! Let us explore a few of them.</p><div><div><div><div><h1 class="title"><a id="ch07lvl1sec48"/>Writing unit tests for your code</h1></div></div></div><p>We wrote some <a id="id446" class="indexterm"/>JavaScript for our website. While the browsers let us know if the code is written incorrectly, there is no way to tell if the code works as intended. Perhaps there are edge cases that we failed to account for. The code should be as robust as possible and works around all expected use cases and is capable of handling most error conditions. You can ensure this is possible by writing tests to test every function your code calls.</p><p>A unit can be considered as the smallest testable part of your code. When you write unit tests, you ensure every section of the code behaves correctly. The easiest way to get started with unit tests is to use a test suite.</p><p>
<code class="literal">QUnit.js</code>
<a id="id447" class="indexterm"/> is a popular browser-based test suite that tests your code in the browser. Let us use this on our code that we wrote for the Sun and Sand Festival website.</p><div><div><div><div><h2 class="title"><a id="ch07lvl2sec88"/>Creating a testing environment</h2></div></div></div><p>Let us<a id="id448" class="indexterm"/> create a<a id="id449" class="indexterm"/> <code class="literal">tests</code> folder within our project.</p><p>Then, we download <code class="literal">QUnit.js</code> from <code class="literal">code.jquery.com/qunit/qunit-1.9.0.js</code> and the associated CSS file <code class="literal">qunit.css</code> from <code class="literal">code.jquery.com/qunit/qunit-1.9.0.css</code>. The latest versions of these files can be found at <code class="literal">github.com/jquery/qunit</code>.</p><p>We now create a testing environment by creating a <code class="literal">tests.html</code> page within the <code class="literal">tests</code> folder, and have the following code:</p><div><pre class="programlisting">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="utf-8"&gt;
&lt;title&gt;Tests for Sun n' Sand Festival Code&lt;/title&gt;
&lt;link rel="stylesheet" href="qunit-1.9.0.css"&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="qunit"&gt;&lt;/div&gt;
&lt;div id="qunit-fixture"&gt;&lt;/div&gt;
&lt;script src="img/jquery.min.js"&gt;&lt;/script&gt;
&lt;script&gt;window.jQuery || document.write('&lt;script src="img/jquery-1.7.2.min.js"&gt;&lt;\/script&gt;')&lt;/script&gt;
&lt;script src="img/qunit-1.9.0.js"&gt;&lt;/script&gt;
&lt;script src="img/main.js"&gt;&lt;/script&gt;
&lt;script src="img/test.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><p>In this code, we have included our <code class="literal">main.js</code>, file that we are using on our website. We will be testing the code we wrote for the tabs used to display the line up.</p><p>Now, we will create the <code class="literal">test.js</code> file, where we will write all our tests for our code.</p><p>As our test depends on the markup that is used for the tabs, let us copy the markup without the content from <code class="literal">index.html</code> to <code class="literal">tests.html</code>.</p><p>If we execute this test as it is, we will get an error claiming global failure. If you open up the console of your browser's developer tools, you should see the following error:</p><div><pre class="programlisting">Uncaught TypeError: Object [object Object] has no method 'smoothScroll'</pre></div><p>This is because we invoke the plugins from <code class="literal">main.js</code> but we have not included those plugins here because we are not testing them. We can corral all of our plugin-dependent code and invoke<a id="id450" class="indexterm"/> them only <a id="id451" class="indexterm"/>if QUnit is not used, by testing for the existence of QUnit first before invoking plugins and frameworks like in the following snippet of code:</p><div><pre class="programlisting">if(window.QUnit == undefined) {
  $('.js-scrollitem').smoothScroll();
  if(Modernizr.svg === false) {
    $('img[src$=".svg"]').each(function() {
      this.src = /(.*)\.svg$/.exec(this.src)[1] + '.png';
    });
  }

  if (Modernizr.generatedcontent === false &amp;&amp; window.onbeforeprint !== undefined) {
    window.onbeforeprint = printLinkURLs;
    window.onafterprint = hideLinkURLs;
  }

  Modernizr.load({
    test: Modernizr.audio,
    nope: {
      'mediaelementjs': 'js/vendor/mediaelement/mediaelement-and-player.min.js'
},
    callback: {
    'mediaelementjs': function() {
      $('audio').mediaelementplayer();
    }
  } 
 });
}</pre></div><p>Make sure you remove the condition—<code class="literal">if(window.QUnit == undefined)</code>—in the production code.</p><p>Now, let us write a test to confirm that when a navigation tab is clicked the correct class is applied to itself by using the following code snippet:</p><div><pre class="programlisting">$('.js-tabitem').each(function() {
  var $this = $(this);
  $this.trigger('click');
  test( "navigation tabs", function() {
    ok($this.hasClass('t-tab__navitem--active'), 
   'The clicked navigation item has the correct active class applied');
  });
});</pre></div><p>The <code class="literal">test()</code> function<a id="id452" class="indexterm"/> is a function available from the QUnit test suite. The first argument is the title of the text<a id="id453" class="indexterm"/>, and<a id="id454" class="indexterm"/> the second is the actual test function you want to execute.</p><p>We also use <code class="literal">ok()</code>, which is one of the assertions from the QUnit test suite to confirm the class does apply. An assertion is an essential element of unit testing, where you test if the result of the execution of your code returns the expected value. QUnit has different kinds of assertions that are all documented at <code class="literal">api.qunitjs.com/category/assert/</code>.</p><p>In <code class="literal">ok()</code>, the first argument we pass to this function is an expression that evaluates to true or false. The second argument is the message you want to display when the assertion is executed.</p><p>Now, let us test that the inactive navigation items do not contain the class name that makes a navigation item appear active, by using the following code snippet:</p><div><pre class="programlisting">$('.js-tabitem').not(this).each(function() {
  ok(!$(this).hasClass('t-tab__navitem--active'),
    'Inactive item does not have active class');
});</pre></div><p>Let us now execute these tests! Open the <code class="literal">tests.html</code> page in your browser. You should see something like the following screenshot:</p><div><img src="img/8505_App_01.jpg" alt="Creating a testing environment"/></div><p>You can execute more complicated tests too! Learn more about QUnit from their online cookbook<a id="id455" class="indexterm"/> at <code class="literal">qunitjs.com/cookbook/</code>.</p><div><div><div><div><h3 class="title"><a id="ch07lvl3sec51"/>Esoteric defaults you should know about</h3></div></div></div><p>There is a <a id="id456" class="indexterm"/>lot of research that was done to arrive at the defaults that are part of HTML5 Boilerplate. It is really fun to understand how different browsers behave and what drove us to choose the defaults as they are.</p></div></div><div><div><div><div><h2 class="title"><a id="ch07lvl2sec89"/>Meta UTF-8</h2></div></div></div><p>The <code class="literal">meta</code> element <a id="id457" class="indexterm"/>represents any metadata information for the page. <a id="id458" class="indexterm"/>Setting <code class="literal">&lt;meta charset="utf-8"&gt;</code> in the <code class="literal">&lt;head&gt;</code> element will ensure browsers parse the page with UTF-8 encoding in the absence of any other information about the encoding of the page.</p><p>The interesting thing to note is that most browsers look for character encoding metadata only within the first 512 bytes of the page. Hence, you need to ensure that if you have a lot of data in your <code class="literal">&lt;head&gt;</code> element, this meta element occurs before everything else.</p><p>In the absence of <code class="literal">charset</code> encoding information, browsers have to guess which <code class="literal">charset</code> encoding to apply. The HTML5 spec outlines the sniffing algorithm that all browsers must implement at <a class="ulink" href="http://www.whatwg.org/specs/web-apps/current- work/multipage/parsing.html#encoding-sniffing-algorithm">www.whatwg.org/specs/web-apps/current-work/multipage/parsing.html#encoding-sniffing-algorithm</a>. Unfortunately, older browsers had their own mechanisms for guessing character encoding.</p><p>In the case of Internet Explorer 7 and below, the default character encoding preference is typically set to <code class="literal">Auto Select</code>. This means the browser scans the content of the page to detect what character encoding would best apply. In case of Internet Explorer, if it finds a UTF-7 string within 4096 characters of the page, it would assume the page uses UTF-7 encoding and your page will become vulnerable to cross-site scripting attacks using UTF-7 encoding. Hence, the <code class="literal">meta</code> element declaration and right on top of the page in the <code class="literal">index.html</code> page.</p><p>Note that if your server sends an HTTP header that is of a different encoding, then that would take precedence. Make sure your server is set up to serve the right <code class="literal">charset</code> encoding as an HTTP header.</p></div><div><div><div><div><h2 class="title"><a id="ch07lvl2sec90"/>The HTML Doctype</h2></div></div></div><p>Before the<a id="id459" class="indexterm"/> standardization <a id="id460" class="indexterm"/>of HTML and CSS, most markup and styles did not render consistently in any browser. But when we had standards about how markup should be written and more and more developers started adopting these standards, browsers then had to face the problem of detecting which of the pages on the Internet conformed to these standards and which weren't.</p><p>The Doctype <a id="id461" class="indexterm"/>was invented <a id="id462" class="indexterm"/>so that developers could inform the browser to render the page using the newer standards mode. Without a Doctype declaration, browsers would render the page in what is known as <strong>Quirks Mode</strong> (the way browsers used to render the pages before standards became an acceptable practice). In IE6, having a comment or an XML namespace declaration above the Doctype would render the page in Quirks Mode too. In the early 2000s when using the XHTML Doctype with an XML namespace declaration was recommended, this would be the cause of significant issues in Internet Explorer.</p><p>Not all Doctype declarations render in standards mode. The easiest way to use standards mode is to use the smallest recommended Doctype, <code class="literal">&lt;!doctype html&gt;</code>. You can use any mix of upper or lowercases in the Doctype declaration (for example, <code class="literal">&lt;!DoCtYpE hTmL&gt;</code>).</p></div><div><div><div><div><h2 class="title"><a id="ch07lvl2sec91"/>The details behind the clearfix solution</h2></div></div></div><p>The <a id="id463" class="indexterm"/>
<code class="literal">clearfix</code> CSS class<a id="id464" class="indexterm"/> is used to make sure floated elements fit in their parent container. The very first exploration of this idea occurred in 2002, and is elaborated further in the article at <a class="ulink" href="http://www.positioniseverything.net/easyclearing.html">www.positioniseverything.net/easyclearing.html</a>.</p><p>The <code class="literal">clearfix</code> selector works in the following manner:</p><div><pre class="programlisting">.clearfix:after {
  content: ".";
  display: block;
  height: 0;
  clear: both;
  visibility: hidden;
}
.clearfix { zoom: 1; } /* IE 5.5/6/7 */</pre></div><p>The biggest problem with this method is that margins do not collapse consistently across all browsers. Thierry Koblentz writes more about it at <a class="ulink" href="http://www.tjkdesign.com/lab/clearfix/new-clearfix.html">www.tjkdesign.com/lab/clearfix/new-clearfix.html</a>.</p><p>Thierry Koblentz updated this method in 2010 introducing the use of both <code class="literal">:before</code> and <code class="literal">:after</code> pseudo-elements in the post at <a class="ulink" href="http://www.yuiblog.com/blog/2010/09/27/clearfix-reloaded-overflowhidden-demystified/ to be so">www.yuiblog.com/blog/2010/09/27/clearfix-reloaded-overflowhidden-demystified/ to be so</a>. Both the pseudo-elements are used in the following code snippet:</p><div><pre class="programlisting">.clearfix:before,
.clearfix:after {
  content: ".";
  display: block;
  height: 0;
  overflow: hidden;
}
.clearfix:after {clear: both;}
.clearfix {zoom: 1;} /* IE &lt; 8 */</pre></div><p>Using both pseudo-elements prevents the problem of inconsistent margin collapsing while using the <code class="literal">clearfix</code> class.</p><p>Nicolas Gallagher<a id="id465" class="indexterm"/>, in 2011, <a id="id466" class="indexterm"/>found an alternative way that reduces the lines of code necessary for the <code class="literal">clearfix</code> class if our target browsers are IE6 and higher and other modern browsers, as he explains in his article at <code class="literal">nicolasgallagher.com/micro-clearfix-hack/</code>. Nicolas' code is given in the following code snippet:</p><div><pre class="programlisting">.cf:before,
.cf:after {
    content: " ";
    display: table;
}

.cf:after {
    clear: both;
}

/**
 * For IE 6/7 only
 * Include this rule to trigger hasLayout and contain floats.
 */
.cf {
    *zoom: 1;
}</pre></div><p>In this method, using <code class="literal">display: table</code> would create an anonymous table cell (more information on what this means is available in the specification at <a class="ulink" href="http://www.w3.org/TR/CSS2/tables.html#anonymous-boxes">www.w3.org/TR/CSS2/tables.html#anonymous-boxes</a>) within the pseudo-element, which prevents the collapsing of top margins. The <code class="literal">content</code> property does not require any content within to work, but this method uses a space character to overcome an Opera bug when used on elements that are editable.</p><p>This is how the <code class="literal">clearfix</code> class evolved! As you can see, a great deal of research and development went into crafting the best <code class="literal">clearfix</code> class possible that would work across dominant browser platforms.</p></div><div><div><div><div><h2 class="title"><a id="ch07lvl2sec92"/>What do the print styles do?</h2></div></div></div><p>The <a id="id467" class="indexterm"/>HTML5 Boilerplate<a id="id468" class="indexterm"/> stylesheet comes <a id="id469" class="indexterm"/>with a set of styles that are useful defaults when a user prints your page. Styling how a page would appear in print is something that most of us do not consider while designing a web page, and HTML5 Boilerplate gives you a set of good defaults, so you do not have to consider it most of the time (however, it would be good practice to do so).</p><div><div><div><div><h3 class="title"><a id="ch07lvl3sec52"/>Print media query</h3></div></div></div><p>We have<a id="id470" class="indexterm"/> inlined all our print styles within a CSS media <a id="id471" class="indexterm"/>query called "print". This media query is matched whenever a user selects a page for printing, and these style rules will be applied in that case. We declare all of our rules within the <code class="literal">@media print</code> query as shown in the following code snippet:</p><div><pre class="programlisting">@media print {
  a, a:visited { text-decoration: underline; }
  /* More Styles below */
}</pre></div></div><div><div><div><div><h3 class="title"><a id="ch07lvl3sec53"/>Optimizing colors and backgrounds</h3></div></div></div><p>We then make<a id="id472" class="indexterm"/> sure we optimize the page <a id="id473" class="indexterm"/>to appear most readable when printed and also ensure we are not wasting too much printing ink printing superfluous images, colors, and text. This means we make sure we remove all background images or images, which are just of a slightly different shade of white or transparent for all elements. We also make sure all of the colors are black as it means the printer does not have to mix any ink and hence can print faster. We also remove shadows, as that would make the text less readable.</p><p>The final rule we have for these updates is as follows:</p><div><pre class="programlisting">* {
        background: transparent !important;
        color: #000 !important; /* Black prints faster: h5bp.com/s */
        box-shadow:none !important;
        text-shadow: none !important;
    }</pre></div></div><div><div><div><div><h3 class="title"><a id="ch07lvl3sec54"/>Better links</h3></div></div></div><p>Not many<a id="id474" class="indexterm"/> designers now<a id="id475" class="indexterm"/> use <code class="literal">text-decoration: underline</code> to style links on pages. Typically, people use colors to indicate something is a link. However, underlines are easier to discern in case of print, especially when you have no <a id="id476" class="indexterm"/>control over the printer and colors used to render them. Hence, we have all links (active or visited) to be styled with a line below the text by using the following code snippet:</p><div><pre class="programlisting">    a,
    a:visited {
        text-decoration: underline;
    }</pre></div><p>It would also be helpful to<a id="id477" class="indexterm"/> have a reference to the actual link in print as there is no way for the user to navigate to that link if they are reading from a printed page and would like to visit the link. We do this by using the <code class="literal">attr()</code> function in CSS. <code class="literal">attr()</code> returns the value of an attribute of the element that the current rule will be applied to. In this case, as we are applying it on links, we can use <code class="literal">attr()</code> to obtain the value of the <code class="literal">href</code> attribute of links and print them. A space character is used to concatenate strings together when they are used as a value in the <code class="literal">content</code> property. We also want to make sure that if a link has a title, we print that too as a title is only visible on hovering on a link. All of this expressed in CSS looks like the following code snippet:</p><div><pre class="programlisting">    a[href]:after {
        content: " (" attr(href) ")";
    }

    abbr[title]:after {
        content: " (" attr(title) ")";
    }</pre></div><p>But, this means even links that are just linking to another location in the same page or are used for JavaScript actions (with the <code class="literal">javascript:</code> prefix) would render the same way! So, we would need to make sure we do not do this for these links.</p><p>For this, we use the attribute selector that allows us to select elements that have properties that begin, end, or contain certain values. By using the selector <code class="literal">a[href^="javascript:"]:after</code>, we ensure we are only selecting the <code class="literal">:after</code> pseudo-elements of links that have the attribute <code class="literal">href</code>, whose value starts with the string <code class="literal">javascript:</code>.</p><p>Similarly, we also select all links which have the <code class="literal">href</code> attribute that begin with the <code class="literal">#</code> character, as that means such links are inline links linking to another location within the same page.</p><p>We then make sure we render no content for pseudo-elements within these links. The rule then looks like the following code snippet:</p><div><pre class="programlisting">    .ir a:after,
    a[href^="javascript:"]:after,
    a[href^="#"]:after {
        content: "";
    }</pre></div><p>Do note that these rules are not available for IE6 and if it is highly necessary to offer this functionality<a id="id478" class="indexterm"/> in IE6,<a id="id479" class="indexterm"/> you would like to use JavaScript that provides this.</p></div><div><div><div><div><h3 class="title"><a id="ch07lvl3sec55"/>Rendering all code and quotes within one page</h3></div></div></div><p>It sometimes happens<a id="id480" class="indexterm"/> that your printed <a id="id481" class="indexterm"/>page would contain quotes or code, and as a reader, it is annoying to keep referring back to a previous page when the code (or the quote) could all have been within one page without any break. For this, we can use the CSS <code class="literal">page-break-inside</code> property that allows you to tell the browser if you prefer these elements to break over two pages or stay within the same page. The code for this is shown in the following code snippet:</p><div><pre class="programlisting">pre,
    blockquote {
        border: 1px solid #999;
        page-break-inside: avoid;
    }</pre></div><p>Do note that <code class="literal">page-break-inside</code> is not supported in Firefox, but is available in all other browsers.</p></div><div><div><div><div><h3 class="title"><a id="ch07lvl3sec56"/>Rendering tables better</h3></div></div></div><p>By default,<a id="id482" class="indexterm"/> putting headings within the <code class="literal">thead</code> tag would ensure that<a id="id483" class="indexterm"/> the headings get repeated every time a table breaks across two pages. However, only Firefox and Opera have support for this at the moment. In IE, you can do this but you would have to explicitly state it, as stated in the following code snippet:</p><div><pre class="programlisting">    thead {
        display: table-header-group; /* h5bp.com/t */
    }</pre></div></div><div><div><div><div><h3 class="title"><a id="ch07lvl3sec57"/>Rendering images better</h3></div></div></div><p>Ideally, we<a id="id484" class="indexterm"/> want to<a id="id485" class="indexterm"/> prevent table rows and images from breaking across pages, so we use the now familiar <code class="literal">page-break-inside</code> property to tell the browser of our preference, as shown in the following code snippet:</p><div><pre class="programlisting">    tr,
    img {
        page-break-inside: avoid;
    }</pre></div><p>It also does not appear too well,<a id="id486" class="indexterm"/> when images run off beyond the page or print cropped while appearing in full on the website. Hence, we restrict the maximum width to be as wide as the page itself and no more, as shown in the following code snippet:</p><div><pre class="programlisting">    img {
        max-width: 100% !important;
    }</pre></div></div><div><div><div><div><h3 class="title"><a id="ch07lvl3sec58"/>Margins on pages</h3></div></div></div><p>The <code class="literal">@page</code> rule<a id="id487" class="indexterm"/> allows you to modify the properties of a page when printing. All browsers except Firefox support this rule. This rule sets the margins to be <code class="literal">0.5 cm</code> per page, as shown in the following code snippet:</p><div><pre class="programlisting">    @page {
        margin: 0.5cm;
    }</pre></div></div><div><div><div><div><h3 class="title"><a id="ch07lvl3sec59"/>Optimal settings for orphans and widows</h3></div></div></div><p>
<strong>Orphans</strong> are<a id="id488" class="indexterm"/> the<a id="id489" class="indexterm"/> lines of text that appear at the bottom of the page. <strong>Widows</strong> <a id="id490" class="indexterm"/>are those that appear at the top of the page. We make sure that lines do not break in a manner that leaves fewer lines at the bottom or top than desired. This will create a more readable experience. The following code snippet is used for that purpose:</p><div><pre class="programlisting">    p,
    h2,
    h3 {
        orphans: 3;
        widows: 3;
    }</pre></div></div><div><div><div><div><h3 class="title"><a id="ch07lvl3sec60"/>Keeping headings with content</h3></div></div></div><p>It is not <a id="id491" class="indexterm"/>readable to have the headings appear at <a id="id492" class="indexterm"/>the bottom of one page and the content that the heading is for, appearing on the next. To tell the browsers to avoid doing this, we can use the <code class="literal">page-break-after</code> setting, as shown in the following code snippet:</p><div><pre class="programlisting">    h2,
    h3 {
        page-break-after: avoid;
    }
}</pre></div></div></div><div><div><div><div><h2 class="title"><a id="ch07lvl2sec93"/>What are protocol-relative URLs?</h2></div></div></div><p>In HTML5 Boilerplate,<a id="id493" class="indexterm"/> when we refer to jQuery, we refer to it as follows:</p><div><pre class="programlisting">&lt;script src="img/jquery.min.js"&gt;
&lt;/script&gt;</pre></div><p>Note that we do not have either <code class="literal">http</code> or <code class="literal">https</code> in front of the URL; instead, it starts with <code class="literal">//</code>. These are called protocol-relative URLs and are useful when you want to use a protocol-agnostic resource in a HTTP or HTTPS environment.</p><p>When you serve pages using HTTPS, browsers will throw warnings and errors when the page loads assets and resources that use HTTP protocol. To prevent this, you need to ensure you use the HTTPS protocol for all the assets you are requesting. This is typically not a problem if you are using relative URLs to refer to assets within the parent folder of your page. However, if you are referring to external URLs like the CDN URL for jQuery (shown previously), then you need to ensure you use <code class="literal">https</code> when the page is being served with the HTTPS protocol and the <code class="literal">http</code> prefix when the page is being served with HTTP protocol.</p><p>Instead of using JavaScript to do that determination, simply omitting the protocol ensures browsers use the currently used protocol when requesting that external URL. In this case, if this page gets served on HTTPS as <code class="literal">https://example.com</code>, then the URL requested will be <a class="ulink" href="https://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js">https://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js</a>.</p><p>You can learn more about this at <code class="literal">paulirish.com/2010/the-protocol-relative-url/</code>.</p></div><div><div><div><div><h2 class="title"><a id="ch07lvl2sec94"/>Using conditional comments</h2></div></div></div><p>Historically, <a id="id494" class="indexterm"/>IE6, IE7, and IE8 have been browsers with the<a id="id495" class="indexterm"/> most bugs and inconsistent rendering of styles. There are many ways to serve styles to IE versions 8 and below, here are a few.</p><div><div><div><div><h3 class="title"><a id="ch07lvl3sec61"/>Browser style hacks</h3></div></div></div><p>The most <a id="id496" class="indexterm"/>prevalent technique is to use hacks in CSS style rules that target only one browser.</p><p>For IE6 and below, use the following code snippet:</p><div><pre class="programlisting">* html #uno  { color: red }</pre></div><p>For IE7, use the following code snippet:</p><div><pre class="programlisting">*:first-child+html #dos { color: red }</pre></div><p>For IE8, use the following code snippet:</p><div><pre class="programlisting">@media \0screen {
   #tres { color: red }
}</pre></div><p>There are more<a id="id497" class="indexterm"/> hacks that target two or more browsers (or exclude two or more browsers) all listed in the post at <code class="literal">paulirish.com/2009/browser-specific-css-hacks/</code>.</p><p>The problem with these hacks is that first they exploit holes in the browser's parsing technology. If browsers fix these parsing errors then they may not work. Luckily, we do not have to fear about this for older browsers such as IE6 and IE7.</p><p>These hacks are also not readable and without comments it is impossible to understand which browsers they target.</p><p>The advantage of these methods is that you can keep your style rules together, and you do not have to serve a separate stylesheet for the browsers requiring hacks.</p></div><div><div><div><div><h3 class="title"><a id="ch07lvl3sec62"/>Server-side browser detection</h3></div></div></div><p>When <a id="id498" class="indexterm"/>they make a request to a web server, browsers send a User Agent String along with the request. Servers can serve different resources based on their interpretation of the User Agent String. For example, if a browser identifies itself as IE6 with the following User Agent String:</p><div><pre class="programlisting">Mozilla/4.0 (compatible; MSIE 6.0; Windows XP)</pre></div><p>Then, the server can send back a different stylesheet to IE6. While this may seem like a simple, easy solution, the problem occurs when browsers lie. Historically, browsers have never exactly claimed to be which browser they are, and hence, it is likely that you may send the wrong stylesheet to a browser.</p><p>It also involves a little overhead server-side to process the request according to the browser's User Agent setting, and hence is not an ideal way to serve different stylesheets to IE8 and below.</p></div><div><div><div><div><h3 class="title"><a id="ch07lvl3sec63"/>Stylesheets based on conditional comments</h3></div></div></div><p>Conditional comments<a id="id499" class="indexterm"/> are HTML comments with special syntax that are understood by IE9 and below. The following is a sample conditional comment:</p><div><pre class="programlisting">&lt;!--[if lt IE 9]&gt;
&lt;p&gt;HTML Markup here&lt;/p&gt;
&lt;!--&lt;![endif]--&gt;</pre></div><p>All browsers except Internet Explorer 9 and below ignore content within these conditional comments. IE9 and below try to interpret the <code class="literal">if</code> condition within these comments and<a id="id500" class="indexterm"/> selectively render the content if the version number of the IE browser matches the one within the <code class="literal">if</code> condition.</p><p>The previous example will render the <code class="literal">p</code> tag on all 8, 7, 6, and below versions of IE.</p><p>Conditional comments are perfect to target older versions of IE and this is what HTML5 Boilerplate uses. There are two ways of using them. The first is to output a separate stylesheet based on matching a conditional comment, as shown in the following code snippet:</p><div><pre class="programlisting">&lt;!--[if lt IE 9]&gt;
&lt;link rel="stylesheet" href="/css/legacy.css"&gt;
&lt;![endif]--&gt;</pre></div><p>This will make IE8 and below use <code class="literal">legacy.css</code> and other browsers will ignore this snippet of code.</p><p>The problem with a standalone stylesheet is that while you develop your styles you have two different stylesheets to target, and occasionally IE-specific stylesheets could be forgotten.</p><p>Some people provide only a very basic experience for IE8 and below, as shown in the following code snippet:</p><div><pre class="programlisting">&lt;!--[if ! lte IE 6]&gt;&lt;!--&gt;
/* Stylesheets for browsers other than Internet Explorer 6 */
&lt;!--&lt;![endif]--&gt;
&lt;!--[if lte IE 6]&gt;
&lt;link rel="stylesheet" href="http://universal-ie6-css.googlecode.com/files/ie6.1.1.css" media="screen, projection"&gt;
&lt;![endif]--&gt;</pre></div><p>But HTML5 Boilerplate prefers a more readable and targeted approach that provides the best possible styles to all browsers using class names, which we will look at next.</p></div><div><div><div><div><h3 class="title"><a id="ch07lvl3sec64"/>Class names based on conditional comments</h3></div></div></div><p>An iteration <a id="id501" class="indexterm"/>of the previous conditional comments method would be to append class names on the root element based on conditional comments, as shown in the following code snippet:</p><div><pre class="programlisting">&lt;!--[if IE 8]&gt;
&lt;html class="no-js lt-ie9"&gt;
&lt;![endif]--&gt;</pre></div><p>Then in your stylesheet, you can use it to set styles in IE8 and below as follows:</p><div><pre class="programlisting">.lt-ie9 h1 { color: red }</pre></div><p>You can read more about this solution at <code class="literal">paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/</code>.</p><p>This solution <a id="id502" class="indexterm"/>does not require separate stylesheets, but allows you to write readable class names that indicate why that style rule exists in the stylesheet. This is the solution we have adopted in HTML5 Boilerplate, and recommend.</p></div></div><div><div><div><div><h2 class="title"><a id="ch07lvl2sec95"/>What is meta x-ua-compatible?</h2></div></div></div><p>
<code class="literal">x-ua-compatible</code> is <a id="id503" class="indexterm"/>a header that defines how Internet Explorer <a id="id504" class="indexterm"/>renders your pages. It declares which mode Internet Explorer should use to render your page. This is primarily targeted towards older websites that break in Internet Explorer 9 onwards because of better support for standards. It can be set in two ways.</p><div><div><div><div><h3 class="title"><a id="ch07lvl3sec65"/>Meta tag in your HTML page</h3></div></div></div><p>In this case,<a id="id505" class="indexterm"/> we merely add a <code class="literal">meta</code> tag between the <code class="literal">&lt;head&gt;&lt;/head&gt;</code> tag in your HTML pages as follows:</p><div><pre class="programlisting">&lt;head&gt;
&lt;meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" &gt;
&lt;/head&gt;</pre></div></div><div><div><div><div><h3 class="title"><a id="ch07lvl3sec66"/>HTTP header response from the server</h3></div></div></div><p>In Apache, in<a id="id506" class="indexterm"/> the <code class="literal">.htaccess</code> file,<a id="id507" class="indexterm"/> writing the following would make the server send the <code class="literal">X-UA-Compatible</code> HTTP header as a response to any request on that parent folder:</p><div><pre class="programlisting">LoadModule headers_module modules/mod_headers.so
Header set X-UA-Compatible "IE=EmulateIE7"</pre></div><p>We recommend this method of setting its value because HTTP header values override any value set via the <code class="literal">meta</code> tag. Moreover, using the <code class="literal">meta</code> tag with IE conditional comments on the <code class="literal">html</code> element causes this <code class="literal">meta</code> tag to be ignored. The <code class="literal">X-UA-Compatible</code> header can have the following values.</p><div><div><div><div><h4 class="title"><a id="ch07lvl4sec09"/>Edge</h4></div></div></div><p>This would use <a id="id508" class="indexterm"/>the latest mode of rendering available. For example, within Internet Explorer 10, it would be IE10. We would want to always use the latest rendering mode available, as this means we have access to the latest and most standards-compliant version of the browser. This is why it is our default option in HTML5 Boilerplate.</p></div><div><div><div><div><h4 class="title"><a id="ch07lvl4sec10"/>IE9</h4></div></div></div><p>This would use <a id="id509" class="indexterm"/>only IE9 mode to render the page. For example, when you use this mode and this page is viewed in Internet Explorer 10, it would use the IE9 mode to render the page.</p></div><div><div><div><div><h4 class="title"><a id="ch07lvl4sec11"/>IE8</h4></div></div></div><p>This <a id="id510" class="indexterm"/>would render the page as though it is being viewed on Internet Explorer 8.</p></div><div><div><div><div><h4 class="title"><a id="ch07lvl4sec12"/>IE7</h4></div></div></div><p>This mode<a id="id511" class="indexterm"/> renders content, as it would display if Internet Explorer 7 rendered it in standards mode.</p></div><div><div><div><div><h4 class="title"><a id="ch07lvl4sec13"/>Emulate IE9</h4></div></div></div><p>This mode tells <a id="id512" class="indexterm"/>Internet Explorer to use the <code class="literal">&lt;!DOCTYPE&gt;</code> directive to determine how to render content. Standards mode directives are displayed in IE9 mode and quirks mode directives are displayed in IE5 mode. All Emulate modes, unlike the previous modes, respect the <code class="literal">&lt;!DOCTYPE&gt;</code> directive.</p></div><div><div><div><div><h4 class="title"><a id="ch07lvl4sec14"/>Emulate IE8</h4></div></div></div><p>This mode<a id="id513" class="indexterm"/> tells Internet Explorer to use the <code class="literal">&lt;!DOCTYPE&gt;</code> directive to determine how to render content. Standards mode directives are displayed in IE8 mode and quirks mode directives are displayed in IE5 mode. Unlike IE8 mode, Emulate IE8 mode respects the <code class="literal">&lt;!DOCTYPE&gt;</code> directive.</p></div><div><div><div><div><h4 class="title"><a id="ch07lvl4sec15"/>Emulate IE7</h4></div></div></div><p>This mode tells <a id="id514" class="indexterm"/>Internet Explorer to use the <code class="literal">&lt;!DOCTYPE&gt;</code> directive to determine how to render content. Standards mode directives are displayed in Internet Explorer 7 standards mode and quirks mode directives are displayed in IE5 mode. Unlike IE7 mode, Emulate IE7 mode respects the <code class="literal">&lt;!DOCTYPE&gt;</code> directive. For many websites, this is the preferred compatibility mode.</p></div><div><div><div><div><h4 class="title"><a id="ch07lvl4sec16"/>IE5</h4></div></div></div><p>This mode<a id="id515" class="indexterm"/> renders content as if Internet Explorer 7 displayed it in quirks mode. You can learn more about these modes on MSDN documentation at <code class="literal">msdn.microsoft.com/en-us/library/cc288325(v=VS.85).aspx</code>.</p></div></div></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch07lvl1sec49"/>Contribute</h1></div></div></div><p>If you like what you have seen so far of the project, you might want to contribute! Contributing <a id="id516" class="indexterm"/>to HTML5 Boilerplate is rewarding in all the learning and understanding that you get out of making even the smallest of changes. There are two ways to contribute; these are as follows:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Reporting issues</li><li class="listitem" style="list-style-type: disc">Submitting pull requests</li></ul></div><div><div><div><div><h2 class="title"><a id="ch07lvl2sec96"/>Reporting issues</h2></div></div></div><p>If you find <a id="id517" class="indexterm"/>something that is a mistake or is incorrect in one <a id="id518" class="indexterm"/>of the files in HTML5 Boilerplate, then you can file an issue so any of the contributors can take a look at it and see if it can be resolved.</p><p>The trick is to find out if something is an issue on HTML5 Boilerplate or something is caused by the code your project uses. You can verify if this is a problem with HTML5 Boilerplate by starting a clean install of HTML5 Boilerplate and verifying if the error still occurs.</p><p>If it is an issue with HTML5 Boilerplate, before you file an issue, make sure it has not been already reported. The GitHub Issues page at <code class="literal">github.com/h5bp/html5-boilerplate/issues</code> lists all open issues. Use the <strong>Search</strong> bar on top to search for the issue you are facing. It is likely that it may have been fixed, but the fix has not yet been pushed to stable branch.</p><p>If the issue is brand new, then make sure you isolate the problem in a way that is obvious through a reduced test case (Chris Coyier writes about what a reduced test case is in <code class="literal">css-tricks.com/reduced-test-cases/</code>). When you file a bug report, make sure it is easy to understand, so we can find a speedy solution. Ideally your bug report should contain the following:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">A short and descriptive title</li><li class="listitem" style="list-style-type: disc">A summary of the issue and the browser/Operating Systems where this bug occurs</li><li class="listitem" style="list-style-type: disc">If it is possible, steps to reproduce the bug</li><li class="listitem" style="list-style-type: disc">A URL to the reduced test case (you can host one on <code class="literal">jsfiddle.net</code> or <code class="literal">codepen.io</code>)</li><li class="listitem" style="list-style-type: disc">Any other information that would be relevant to the bug, including lines of code that might be the cause of the bug, and potential solutions</li></ul></div><p>Ideally, a bug <a id="id519" class="indexterm"/>report should be self-contained, <a id="id520" class="indexterm"/>so contributors do not have to follow up with you again to find out more about the bug and can instead focus on resolving it.</p><p>Following this process to file a bug report is a learning experience in itself in how to find out what is wrong with the markup, style, or script that you wrote.</p></div><div><div><div><div><h2 class="title"><a id="ch07lvl2sec97"/>Pull requests</h2></div></div></div><p>If you have <a id="id521" class="indexterm"/>ideas on how to improve HTML5 Boilerplate, patches to fix some existing issues, improvements or new features, you would submit <a id="id522" class="indexterm"/>what is known as a <strong>pull request</strong>. A pull request is a set of changes you can submit for review to the HTML5 Boilerplate GitHub repository, so it can be reviewed by the core contributors and merged into HTML5 Boilerplate if found to be useful.</p><p>A good way to start contributing would be to find a small issue that you think you can fix, fork the GitHub project (learn more on what this means at <code class="literal">help.github.com/articles/fork-a-repo</code>), work on your changes and submit a pull request.</p><p>If your contribution changes a lot of lines of code and alters the nature of the project drastically, consider opening an issue on the GitHub project first.</p><p>The following are the steps to get started with<a id="id523" class="indexterm"/> creating a pull request:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Fork the project.</li><li class="listitem" style="list-style-type: disc">Clone your fork (in your terminal, enter <code class="literal">git clone https://github.com/&lt;your-username&gt;/html5-boilerplate.git</code> and press <em>Enter</em>).</li><li class="listitem" style="list-style-type: disc">Add an upstream remote (in your terminal enter <code class="literal">git remote add upstream https://github.com/h5bp/html5-boilerplate.git</code> and press <em>Enter</em>).</li><li class="listitem" style="list-style-type: disc">Get the latest changes from upstream (for example, by entering <code class="literal">git pull upstream master</code> and pressing <em>Enter</em> in your terminal).</li><li class="listitem" style="list-style-type: disc">Create a new topic branch to contain your feature, change, or fix (<code class="literal">git checkout -b &lt;topic-branch-name&gt;</code>).</li><li class="listitem" style="list-style-type: disc">Make sure that your changes adhere to the current coding conventions used throughout the project; that is, indentation, accurate comments, and so on.</li><li class="listitem" style="list-style-type: disc">Commit your changes in logical chunks; use Git's interactive rebase feature (more about this feature at <code class="literal">help.github.com/articles/interactive-rebase</code>) to tidy up your commits before making them public. Please adhere to these Git commit message guidelines at <code class="literal">tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html</code> or your pull request is unlikely be merged into the main project.</li><li class="listitem" style="list-style-type: disc">Locally merge (or rebase) the upstream branch into your topic branch.</li><li class="listitem" style="list-style-type: disc">Push your topic branch up to your fork (<code class="literal">git push origin &lt;topic-branch-name&gt;</code>).</li><li class="listitem" style="list-style-type: disc">Open a pull request with a clear title and description. Please mention which browsers you tested in.</li></ul></div><p>This may seem like <a id="id524" class="indexterm"/>a lot of work, but it makes your <a id="id525" class="indexterm"/>pull requests significantly easier to understand and faster to merge. Moreover, your code becomes the documentation of the work you have done and anyone who wants to know why that section looks the way it does can go back to your commits and understand exactly why it is the case.</p><p>Working on HTML5 Boilerplate would get you started with best practices of collaborative development that you can take back to your workplace or any other collaborative work you do.</p></div></div></body></html>